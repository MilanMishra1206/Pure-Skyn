"use strict";(self.webpackChunkpure_skyn=self.webpackChunkpure_skyn||[]).push([[2752],{2494:(e,t,s)=>{s.d(t,{A:()=>O});var a=s(2483),l=s(1901),r=s(7757),n=s(3376),i=s(3117),o=s(4315),d=s(7812),c=s(9891),m=s(3464),h=s(6946),u=s(5481),x=s(7340),p=s(8109),v=s(7080),g=s(3378),b=s(267),f=s(7097),j=s(6723);const y=(0,a.lazy)((()=>Promise.resolve().then(s.bind(s,7855))));const N=function(e){let{setOpenLoginModal:t,setChecked:s}=e;const l=(0,g.k)(),n=(0,r.wA)(),{mutate:d,isLoading:c}=(0,o.useMutation)(b.Lx,{onSuccess(e){if("SUCCESS"===(null===e||void 0===e?void 0:e.status)){const a=null===e||void 0===e?void 0:e.data;l(null===e||void 0===e?void 0:e.message,"success"),sessionStorage.setItem("token",null===a||void 0===a?void 0:a.token),n((0,f.p)({userId:null===a||void 0===a?void 0:a.id,email:null===a||void 0===a?void 0:a.email,name:null===a||void 0===a?void 0:a.name,phone:null===a||void 0===a?void 0:a.phone})),t(!1),s(!0)}else l("".concat(null===e||void 0===e?void 0:e.message,". Please try again!"),"error")},onError(){l("Sign-In Failed! Please try again.","error")}}),m=(0,i.Wx)({enableReinitialize:!0,validateOnMount:!0,validateOnChange:!0,initialValues:v.Cq,validationSchema:v.B7,onSubmit:e=>{d({email:e.email,password:e.password})}});return(0,j.jsxs)(u.N,{children:[(0,j.jsx)(a.Suspense,{fallback:(0,j.jsx)("div",{}),children:(0,j.jsx)(y,{open:c})}),(0,j.jsx)(x.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.45},className:"bg-slate-900/20 backdrop-blur p-4 fixed inset-0 z-50 md:grid place-items-center overflow-scroll",children:(0,j.jsx)(p.A,{formik:m,handleSubmit:()=>{m.isValid?m.handleSubmit():l("Please fill all the required details!","error")},isModal:!0,setOpenLoginModal:t,mobileClass:"!rounded-3xl"})})]})},S=(0,a.lazy)((()=>Promise.all([s.e(2017),s.e(5570),s.e(6624),s.e(3105)]).then(s.bind(s,3105)))),k=(0,a.lazy)((()=>Promise.all([s.e(2017),s.e(5570),s.e(3825)]).then(s.bind(s,3825)))),w=(0,a.lazy)((()=>Promise.all([s.e(2017),s.e(6624),s.e(9215),s.e(5989),s.e(2552)]).then(s.bind(s,2552)))),C=(0,a.lazy)((()=>Promise.all([s.e(5904),s.e(7631)]).then(s.bind(s,2397))));const B=function(e){var t,s,l,r;let{isLoggedIn:o,formik:d,timeSlots:u,checked:x,setChecked:p}=e;const v=(0,n.Zp)(),[g,b]=(0,a.useState)(!1);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("form",{className:"w-full",children:(0,j.jsxs)("div",{className:"p-4",children:[(0,j.jsx)("div",{className:"text-2xl font-poppins text-center font-extrabold",children:"Please Share Booking Details"}),(0,j.jsx)(m.A,{}),(0,j.jsx)("div",{className:"text-left text-lg md:p-5 ml-2 mb-4 md:!mb-0",children:o?(0,j.jsx)(C,{checked:x,checkBoxClasses:"!p-0",label:"Booking for self?",labelClasses:"!ml-2",handleChange:()=>{p((e=>!e))}}):(0,j.jsxs)("p",{className:"text-sm font-bold",children:[(0,j.jsx)("button",{className:"text-[#175EC3] hover:opacity-80",onClick:()=>v("/login"),children:"Sign-In"})," ","to fetch your details"]})}),(0,j.jsxs)("div",{className:"grid md:grid-cols-2 lg:!grid-cols-3 gap-4 md:p-5",children:[(0,j.jsx)(a.Suspense,{fallback:(0,j.jsx)("div",{}),children:(0,j.jsx)(S,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Name",name:"name",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"w-full !mb-4",value:null===(t=d.values)||void 0===t?void 0:t.name,onChange:d.handleChange,handleBlur:d.handleBlur,error:d.errors.name,touched:d.touched.name})}),(0,j.jsx)(a.Suspense,{fallback:(0,j.jsx)("div",{}),children:(0,j.jsx)(S,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,regex:/^[^!#$%^&*()=+{}[\]:;<>,?/~`|"\\ ]*$/,labelToShow:"Email ID",name:"email",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",maxLength:50,value:null===(s=d.values)||void 0===s?void 0:s.email,onChange:d.handleChange,handleBlur:d.handleBlur,error:null===(l=d.errors)||void 0===l?void 0:l.email,touched:null===(r=d.touched)||void 0===r?void 0:r.email})}),(0,j.jsx)(a.Suspense,{fallback:(0,j.jsx)("div",{}),children:(0,j.jsx)(S,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Mobile Number",name:"mobile",maxLength:10,regex:h.A.numeric,textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",value:d.values.mobile,onChange:d.handleChange,handleBlur:d.handleBlur,error:d.errors.mobile,touched:d.touched.mobile})}),(0,j.jsx)(a.Suspense,{fallback:(0,j.jsx)("div",{}),children:(0,j.jsxs)("div",{children:[(0,j.jsx)(k,{textClassOverride:"!text-kashmirBlue",classes:"!rounded-md !mb-4",requiredStar:!0,labelToShow:"Select Address",name:"address",showIconOutline:!0,options:[{label:"Malibu Town",value:"Malibu Town"},{label:"South Delhi",value:"South Delhi"}],value:d.values.address,handleBlur:d.handleBlur,handleChange:d.handleChange,errorMessage:(0,i.O6)(d.errors,"address"),error:(0,i.O6)(d.errors,"address"),touched:(0,i.O6)(d.touched,"address")}),(0,j.jsx)("div",{children:(0,j.jsx)(c.N_,{className:"text-sm underline text-skyn hover:opacity-80",to:"/user-profile#Address",children:"Add Address"})})]})}),(0,j.jsx)(a.Suspense,{fallback:(0,j.jsx)("div",{}),children:(0,j.jsx)(k,{textClassOverride:"!text-kashmirBlue",classes:"!rounded-md !mb-4",requiredStar:!0,labelToShow:"Select City",name:"city",showIconOutline:!0,options:[{label:"Gurgaon",value:"Gurgaon"},{label:"South Delhi",value:"South Delhi"}],value:d.values.city,handleBlur:d.handleBlur,handleChange:d.handleChange,errorMessage:(0,i.O6)(d.errors,"city"),error:(0,i.O6)(d.errors,"city"),touched:(0,i.O6)(d.touched,"city")})}),(0,j.jsx)("div",{className:"mb-4",children:(0,j.jsx)(a.Suspense,{fallback:(0,j.jsx)("div",{}),children:(0,j.jsx)(w,{label:"Treatment Date",name:"treatmentDate",textClassToOverride:"!text-kashmirBlue",requiredStar:!0,disablePast:!0,className:"w-full rounded-md !bg-transparent shadow-insetLight",fieldWidth:"!w-full",setFieldValue:d.setFieldValue,setFieldTouched:d.setFieldTouched,value:d.values.treatmentDate,error:d.errors.treatmentDate,touched:d.touched.treatmentDate,inputClassName:"!text-kashmirBlue !font-poppins",onChange:d.handleChange,handleBlur:d.handleBlur})})}),(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsx)("label",{htmlFor:"timeSlot",className:"block text-sm font-bold text-cello",children:"Select Appointment Time"}),(0,j.jsx)("div",{className:"grid grid-cols-2 gap-2 mt-2",children:u.map(((e,t)=>(0,j.jsx)("button",{type:"button",onClick:()=>d.setFieldValue("timeSlot",e),className:"p-2 rounded text-sm font-bold transition-all shadow-md ".concat(d.values.timeSlot===e?"bg-skyn text-white border-skyn":"bg-white text-gray-700 hover:!bg-gray-100"),children:e},t)))}),d.errors.timeSlot&&d.touched.timeSlot&&(0,j.jsxs)("p",{className:"mt-1 ml-1 text-xs text-bitterSweet",children:[d.errors.timeSlot,"*"]})]})]})]})}),g&&(0,j.jsx)(N,{setOpenLoginModal:b,setChecked:p})]})};var I=s(5399),P=s(7547);const A=(0,a.lazy)((()=>Promise.resolve().then(s.bind(s,7855)))),O=e=>{let{isLoggedIn:t}=e;const s=(0,r.d4)((e=>e.userProfile.userProfile)),c=(0,r.d4)((e=>e.servicesCart.services)),h=(0,r.wA)(),u=(0,n.Zp)(),x=(0,g.k)(),[p,b]=(0,a.useState)(0),[y,S]=(0,a.useState)(!1),[k,w]=(0,a.useState)(!1),[C,O]=(0,a.useState)(""),[M,T]=(0,a.useState)(!0),[L,D]=(0,a.useState)([]),[E,F]=(0,a.useState)({name:"",email:"",mobile:"",address:"",treatmentDate:"",timeSlot:"",city:""});(0,a.useEffect)((()=>{const e=sessionStorage.getItem("availableTimeSlots");D(e?JSON.parse(e):["10:00 AM","12:00 PM","2:00 PM","4:00 PM"])}),[sessionStorage.getItem("availableTimeSlots")]),(0,a.useEffect)((()=>{F(M&&t?{name:s.name||"",email:s.email||"",mobile:s.phone||"",address:"Malibu Town",city:"Gurgaon",treatmentDate:"",timeSlot:""}:{name:"",email:"",mobile:"",address:"",city:"",treatmentDate:"",timeSlot:""})}),[M,t]);const{mutate:z,isLoading:q}=(0,o.useMutation)(P.U,{onSuccess(e){null!==e&&void 0!==e&&e.isError?x(null===e||void 0===e?void 0:e.message,"success"):x(null===e||void 0===e?void 0:e.message,"error")},onError(e){x(null===e||void 0===e?void 0:e.message,"error")}}),V=(0,i.Wx)({enableReinitialize:!0,validateOnMount:!0,validateOnChange:!0,initialValues:E,validationSchema:v.d7,onSubmit:e=>{const t=c.map((e=>{let{treatmentName:t,packageName:s,serviceId:a,subServiceId:l}=e;return{treatmentName:t,packageName:s,serviceId:a,subServiceId:l}})),s={userInfo:e,servicesBooked:t};console.log("reqBody",s)}});(0,a.useEffect)((()=>{const e=c.reduce(((e,t)=>e+t.packagePrice),0);b(e)}),[c]);return(0,j.jsxs)("div",{children:[(0,j.jsx)(a.Suspense,{children:(0,j.jsx)(A,{open:q})}),(0,j.jsx)("div",{className:"md:px-5 xl:!mx-5",children:(0,j.jsxs)("div",{className:"flex flex-col xl:!flex-row gap-4 place-content-center px-2 py-6 md:!px-4 sm:py-10",children:[(0,j.jsx)("div",{className:"flow-root border shadow rounded lg:!pl-1 self-start w-full xl:!w-3/5",children:(0,j.jsx)(B,{isLoggedIn:t,formik:V,timeSlots:L,checked:M,setChecked:T})}),(0,j.jsxs)("div",{className:"flex flex-col border shadow rounded p-4 xl:self-start font-poppins",children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-center",children:"Summary"}),(0,j.jsx)(m.A,{}),c.map(((e,t)=>(0,j.jsxs)("div",{children:[(0,j.jsxs)("li",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 p-4 text-left",children:[(0,j.jsx)("img",{src:e.selectedPackageImg,className:"h-16 w-16 object-cover",alt:e.packageName}),(0,j.jsxs)("div",{className:"flex flex-col sm:flex-grow sm:pl-4 text-center md:!text-left",children:[(0,j.jsx)("span",{className:"text-base text-kashmirBlue",children:e.treatmentName}),(0,j.jsx)("span",{className:"font-medium text-coal",children:e.packageName})]}),(0,j.jsxs)("div",{className:"flex gap-2",children:[(0,j.jsxs)("span",{className:"text-base text-coal font-semibold",children:["\u20b9",e.packagePrice]}),(0,j.jsx)(l.kgr,{size:"1.5rem",className:"text-gray-500 transition-all duration-200 ease-in-out focus:shadow hover:text-red-600 cursor-pointer",onClick:()=>(e=>{O(e),w(!0)})(e.subServiceId)})]})]}),(0,j.jsx)("hr",{})]},t))),(0,j.jsxs)("div",{className:"px-4 py-2",children:[(0,j.jsxs)("div",{className:"flex justify-between py-2 text-lg text-coal",children:[(0,j.jsx)("span",{children:"Total Package Price:"}),(0,j.jsxs)("span",{children:["\u20b9",p.toFixed(2)]})]}),(0,j.jsxs)("div",{className:"flex justify-between font-semibold py-2 text-lg text-coal",children:[(0,j.jsx)("span",{children:"Amount Payable:"}),(0,j.jsxs)("span",{children:["\u20b9",(p/2).toFixed(2)]})]})]}),(0,j.jsxs)("small",{className:"text-sm mt-4 text-Green",children:["Note: You will have to pay ",(0,j.jsx)("strong",{children:"50%"})," at the time of booking and the rest 50% amount post service"]}),(0,j.jsx)("div",{className:"mt-6 flex justify-end mb-5",children:(0,j.jsx)(d.A,{buttonText:"Book Now",faIcon:(0,j.jsx)(l.g$1,{size:"1.5rem",className:"ml-2 group-hover:scale-110 group-hover:!ml-5"}),buttonClass:"!w-96 !justify-end !text-xl",handleSubmit:()=>{t||u("/login"),!V.isValid&&t?x("Please fill all the required fields","error"):V.handleSubmit()}})})]})]})}),y&&(0,j.jsx)(N,{setOpenLoginModal:S}),k&&(0,j.jsx)(I.A,{isEmptyCart:!1,removeMessage:"Are you sure you want to remove this service from the cart?",handleCancel:()=>w(!1),confirmRemove:()=>{h((0,f.ND)(C)),w(!1)}})]})}},5399:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(5481),l=s(7340),r=s(7891),n=s(6723);const i=function(e){let{removeMessage:t,handleCancel:s,confirmRemove:i,isEmptyCart:o}=e;return(0,n.jsx)(a.N,{children:(0,n.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"bg-slate-900/20 backdrop-blur p-4 fixed inset-0 z-50 md:grid place-items-center place-content-center overflow-scroll",children:(0,n.jsxs)(l.P.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.3},className:"bg-white p-8 rounded-lg w-full max-w-lg",children:[(0,n.jsx)("div",{className:"flex justify-center mb-4",children:(0,n.jsx)("img",{src:r.A.images.Common.removeItem,className:"h-16 mb-3"})}),(0,n.jsx)("h3",{className:"font-bold text-lg mb-4 text-center text-coal",children:t}),(0,n.jsxs)("div",{className:"flex flex-col md:!flex-row justify-center gap-4 mt-4",children:[(0,n.jsx)("button",{onClick:s,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),(0,n.jsx)("button",{onClick:i,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",children:o?"Empty":"Remove"})]})]})})})}},7547:(e,t,s)=>{s.d(t,{U:()=>n,Z:()=>r});var a=s(9805),l=s(804);const r=async e=>{let{serviceId:t,subServiceId:s,date:r}=e;const n={serviceId:t,subServiceId:s,date:r};try{return await l.P.post(a.A.Booking.reqBooking,n)}catch(i){throw console.log(i),new Error}},n=async e=>{let{userId:t,serviceId:s,name:r,email:n,mobile:i,address:o,treatmentDate:d,timeSlot:c,pinCode:m,treatment:h,laserOption:u}=e;const x={userId:t,serviceId:s,name:r,email:n,mobile:i,address:o,treatmentDate:d,timeSlot:c,pinCode:m,treatment:h,laserOption:u};try{return await l.P.post(a.A.Booking.createBooking,x)}catch(p){throw console.log(p),new Error}}},7812:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(3451),l=s(6723);const r=function(e){let{buttonText:t="Book Now",handleSubmit:s,faIcon:r,buttonClass:n}=e;return(0,l.jsxs)(a.A,{variant:"contained",className:"!flex !items-center !justify-center gap-2 mt-4 w-full !bg-skyn !text-white py-2 px-4 rounded-md hover:bg-skyn-dark focus:outline-none focus:ring-2 focus:ring-skyn transition-all !shadow-[3px_3px_0px_black] hover:!shadow-none hover:!translate-x-[3px] hover:!translate-y-[3px] cursor-pointer ".concat(n),onClick:()=>s(),children:[r&&r," ",t]})}},3877:(e,t,s)=>{s.d(t,{A:()=>i});s(2483);var a=s(7340),l=s(9891),r=s(5397),n=s(6723);const i=e=>{let{headerText:t,serviceName:s,buttonText:i,link:o,subText:d}=e;const c=(0,r.A)("(max-width: 393px)");return(0,n.jsxs)(a.P.div,{viewport:{once:!1},className:"grid place-content-center bg-gradient-to-r from-[#313440] to-[#1F3A3B] px-4 py-24 text-yellow-50",children:[(0,n.jsxs)("h1",{className:"max-w-2xl text-center text-5xl leading-snug",children:[(0,n.jsxs)("span",{className:"relative ".concat(c?"flex text-center":""),children:[t,(0,n.jsx)("svg",{viewBox:"0 0 286 73",fill:"none",className:"absolute -left-2 bottom-0 ".concat(c?"":"translate-y-1"),children:(0,n.jsx)(a.P.path,{initial:{pathLength:0},whileInView:{pathLength:1},transition:{duration:1.25,ease:"easeInOut"},d:"M142.293 1C106.854 16.8908 6.08202 7.17705 1.23654 43.3756C-2.10604 68.3466 29.5633 73.2652 122.688 71.7518C215.814 70.2384 316.298 70.689 275.761 38.0785C230.14 1.37835 97.0503 24.4575 52.9384 1",stroke:"#FACC15",strokeWidth:"3"})})]})," ",s]}),(0,n.jsx)("p",{className:"font-bold font-poppins text-center mt-4 mb-4",children:"100% Satisfaction Guaranteed"}),d&&(0,n.jsx)("span",{className:"text-4xl font-bold font-poppins text-center",children:d}),i&&(0,n.jsx)("div",{className:"flex items-center justify-center gap-3 mt-4",children:(0,n.jsx)(l.N_,{to:o,className:"w-fit bg-neutral-200 px-4 py-2 font-semibold text-neutral-700 transition-colors hover:bg-neutral-50 no-underline",children:i})})]})}},3464:(e,t,s)=>{s.d(t,{A:()=>l});s(2483);var a=s(6723);const l=()=>(0,a.jsx)("div",{className:"my-6",children:(0,a.jsx)("hr",{style:{borderWidth:"0 0 4px",borderImage:"linear-gradient(90deg, rgba(238, 101, 3, 0), rgba(238, 101, 3, 1) 50%, rgba(238, 101, 3, 0) 100%) 0 0 100%",borderStyle:"solid",width:"100%"}})})}}]);
//# sourceMappingURL=2752.f4f16d56.chunk.js.map