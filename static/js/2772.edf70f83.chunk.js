"use strict";(self.webpackChunkpure_skyn=self.webpackChunkpure_skyn||[]).push([[2772],{5399:(e,s,a)=>{a.d(s,{A:()=>i});var l=a(5481),r=a(7340),t=a(7891),d=a(6723);const i=function(e){let{title:s,handleCancel:a,handlePrimaryButtonClick:i,confirmButtonText:n,confirmButtonColor:o="bg-red-600 hover:bg-red-700",imageSrc:c=t.A.images.Common.removeItem}=e;return(0,d.jsx)(l.N,{children:(0,d.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"bg-slate-900/20 backdrop-blur p-4 fixed inset-0 z-50 md:grid place-items-center place-content-center overflow-scroll",children:(0,d.jsxs)(r.P.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.3},className:"bg-white p-8 rounded-lg w-full max-w-lg",children:[(0,d.jsx)("div",{className:"flex justify-center mb-4",children:(0,d.jsx)("img",{src:c,alt:"Confirmation Icon",className:"h-16"})}),(0,d.jsx)("h3",{className:"font-bold text-lg mb-4 text-center text-coal",children:s}),(0,d.jsxs)("div",{className:"flex flex-col md:!flex-row justify-center gap-4 mt-6",children:[(0,d.jsx)("button",{onClick:a,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),(0,d.jsx)("button",{onClick:i,className:"text-white px-4 py-2 rounded-md ".concat(o," "),children:n})]})]})})})}},5831:(e,s,a)=>{a.d(s,{A:()=>l});const l={baseURL:"https://skynapi.duckdns.org/api/v1",Admin:{getAllUsers:"users/all",availableTechnicians:"admin/available-technicians"},Auth:{login:"/auth/login",loginAdmin:"/admin/login",registerUser:"/admin/register",requestChangePassword:"/auth/request-password-change?email=",changePassword:"/auth/change-password"},Booking:{getCartDetails:"/cart/",reqBooking:"/booking/request",createBooking:"/booking/create"},Cart:{saveServiceCart:"/cart/add-update",getServiceCart:"/cart/"},Query:{newQuery:"/query/new",updateQueryStatus:"/query/",getAllQuery:"/query/all",getQueryWithFilter:"/query/status/"},Services:{getAllServices:"/services/all",createService:"/services/create"},Users:{addAddress:"/auth/user/add-address",getUserAddress:"/users/address",updateUserDetails:"/auth/update-user",updateUserAddress:"/auth/update-address",deleteUserAddress:"/auth/user/delete-address"}}},5335:(e,s,a)=>{a.d(s,{A:()=>t});var l=a(7340),r=a(6723);const t=e=>{let{children:s}=e;return(0,r.jsx)(l.P.div,{initial:{y:35,opacity:0},whileInView:{y:0,opacity:1},transition:{ease:"easeInOut",duration:.75},viewport:{once:!0},children:s})}},6946:(e,s,a)=>{a.d(s,{H:()=>r,y:()=>l});const l={numeric:/^[0-9]*$/,alphabet:/^[a-zA-Z.]+$/,alphabetWithSpace:/^[a-zA-Z ]*$/,alphabetNumberWithSpace:/^[a-zA-Z0-9\s&-. ]*$/,stringWithSpaces:/^[a-zA-Z0-9\s!@#$%^&*()-_=+[\]{}|;:'",.<>/?]*$/,mobileNumber:/^[56789]\d{9}$/,noRepeatMobileNumber:/^(?!.*(\d)\1{4})[56789]\d{9}$/,stringWithoutSpecialCharacters:/^[^~^|`?+\-=<>@$%*]+$/,emailValidationRegex:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,alphaNumeric:/^[a-zA-Z0-9\s]*$/};function r(e){return"\u20b9".concat(new Intl.NumberFormat("en-IN",{maximumFractionDigits:0}).format(e))}},2772:(e,s,a)=>{a.r(s),a.d(s,{default:()=>T});var l=a(2483),r=a(3117),t=a(947);const d={id:"",fullName:"",phone:"",addressLine1:"",addressLine2:"",city:"",state:"",pinCode:"",country:""},i=()=>t.Ik().shape({fullName:t.Yj().required("Name is required"),phone:t.Yj().matches(/^[0-9]{10}$/,"Enter a valid 10-digit contact number").required("Contact Number is required"),addressLine1:t.Yj().required("Required"),addressLine2:t.Yj().required("Required"),pinCode:t.Yj().length(6,"Enter exactly 6 digits").matches(/^[0-9]+$/,"Enter a valid Pincode").required("Pincode is required"),city:t.Yj().required("City is required"),state:t.Yj().required("State is required")}),n=()=>t.Ik().shape({name:t.Yj().required("Name is required"),phone:t.Yj().matches(/^[0-9]{10}$/,"Enter a valid 10-digit contact number").required("Mobile number is required"),email:t.Yj().email("Please Enter Valid Email").required("Required"),gender:t.Yj().required("Please select a gender")});var o=a(5397),c=a(5470),u=a(592),h=a(2751),m=a(1481),p=a(1901),x=a(3376),v=a(9891),g=a(4315),f=a(7757),y=a(3378),b=a(2555),j=a(5745),C=a(6946),N=a(3464),w=a(3190),S=a(3245),A=a(6723);const k=(0,l.lazy)((()=>Promise.all([a.e(2017),a.e(5570),a.e(6624),a.e(3105)]).then(a.bind(a,3105)))),L=(0,l.lazy)((()=>Promise.resolve().then(a.bind(a,7855))));function P(e){var s,a,t;let{userProfile:d}=e;const i=(0,y.k)(),o=(0,f.wA)(),[c,u]=(0,l.useState)(!1),[h,m]=(0,l.useState)(""),[p,x]=(0,l.useState)({name:(null===d||void 0===d?void 0:d.name)||"",phone:(null===d||void 0===d?void 0:d.phone)||"",email:(null===d||void 0===d?void 0:d.email)||"",gender:(null===d||void 0===d?void 0:d.gender)||""});(0,l.useEffect)((()=>{const e=Object.values(p).some((e=>""===e));m(e?"Please update your profile!":"")}),[p]);const{mutate:v,isLoading:P}=(0,g.useMutation)(w.DG,{onSuccess(e){const s=null===e||void 0===e?void 0:e.data;"SUCCESS"===(null===e||void 0===e?void 0:e.status)?(u(!1),i(null===e||void 0===e?void 0:e.message,"success"),o((0,S.p)({userId:null===s||void 0===s?void 0:s.id,email:null===s||void 0===s?void 0:s.email,name:null===s||void 0===s?void 0:s.name,phone:null===s||void 0===s?void 0:s.phone,gender:null===s||void 0===s?void 0:s.gender})),x({name:null===s||void 0===s?void 0:s.name,phone:null===s||void 0===s?void 0:s.phone,email:null===s||void 0===s?void 0:s.email,gender:null===s||void 0===s?void 0:s.gender})):(u(!0),i(null===e||void 0===e?void 0:e.message,"error"))},onError(e){u(!0),i(null===e||void 0===e?void 0:e.message,"error")}}),q=(0,r.Wx)({enableReinitialize:!0,validateOnMount:!0,validateOnChange:!0,initialValues:{name:(null===d||void 0===d?void 0:d.name)||"",phone:(null===d||void 0===d?void 0:d.phone)||"",email:(null===d||void 0===d?void 0:d.email)||"",gender:(null===d||void 0===d?void 0:d.gender)||""},validationSchema:n,onSubmit:e=>{const s=(0,b.A)({id:(null===d||void 0===d?void 0:d.userId)||""},e);v({reqBody:s})}});return(0,A.jsxs)("div",{className:"w-full",children:[(0,A.jsx)(l.Suspense,{fallback:(0,A.jsx)("div",{children:"Loading..."}),children:(0,A.jsx)(L,{open:P})}),h&&(0,A.jsxs)("small",{className:"text-bitterSweet",children:[(0,A.jsx)("strong",{className:"!text-black",children:"Note: "}),h]}),(0,A.jsxs)("form",{children:[(0,A.jsxs)("div",{className:"flex flex-col md:!flex-row items-center gap-4 mb-4 justify-center mt-4",children:[(0,A.jsx)("span",{className:"font-semibold text-cello font-poppins text-xl",children:"Personal Information"}),(0,A.jsx)(j.Pj4,{className:"text-gray-500 cursor-pointer hover:text-gray-800 transition",size:20,onClick:()=>u(!c)})]}),(0,A.jsx)(N.A,{}),(0,A.jsxs)("div",{className:"grid lg:!grid-cols-3 gap-4 font-poppins p-4",children:[(0,A.jsx)("div",{children:c?(0,A.jsx)(l.Suspense,{fallback:(0,A.jsx)("div",{}),children:(0,A.jsx)(k,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Full Name",name:"name",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",value:q.values.name,onChange:q.handleChange,handleBlur:q.handleBlur,error:q.errors.name,touched:q.touched.name})}):(0,A.jsxs)("div",{className:"flex flex-col",children:[(0,A.jsx)("span",{className:"text-black font-medium",children:"Full Name"}),(0,A.jsxs)("span",{className:"text-kashmirBlue",children:[" ",q.values.name]})]})}),(0,A.jsx)("div",{children:c?(0,A.jsx)(l.Suspense,{fallback:(0,A.jsx)("div",{}),children:(0,A.jsx)(k,{textClassOverride:"!text-cello",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Contact Number",maxLength:10,regex:C.y.numeric,name:"phone",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",value:q.values.phone,onChange:q.handleChange,handleBlur:q.handleBlur,error:q.errors.phone,touched:q.touched.phone})}):(0,A.jsxs)("div",{className:"flex flex-col",children:[(0,A.jsx)("span",{className:"text-black font-medium",children:"Phone"}),(0,A.jsxs)("span",{className:"text-cello font-poppins",children:[" ",q.values.phone]})]})}),(0,A.jsx)("div",{className:"flex flex-col",children:c?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("span",{className:"text-sm font-medium pb-1 !text-cello",children:["Gender",(0,A.jsx)("small",{className:"text-bitterSweet",children:"*"})]}),(0,A.jsx)("div",{className:"grid grid-cols-1 gap-2",children:["Male","Female","Others"].map(((e,s)=>(0,A.jsx)("button",{type:"button",className:"py-2 lg:px-4 rounded-lg text-sm font-medium transition-all border ".concat(q.values.gender===e?"bg-skyn text-white border-skyn shadow-md":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"),onClick:()=>q.setFieldValue("gender",e),children:e},s)))})]}):(0,A.jsxs)("div",{className:"flex flex-col",children:[" ",(0,A.jsx)("span",{className:"text-black font-medium",children:"Gender"}),(0,A.jsx)("span",{className:"text-cello",children:q.values.gender})]})}),(0,A.jsx)("div",{children:c?(0,A.jsx)(l.Suspense,{fallback:(0,A.jsx)("div",{}),children:(0,A.jsx)(k,{textClassOverride:"!text-cello",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,regex:/^[^!#$%^&*()=+{}[\]:;<>,?/~`|"\\ ]*$/,labelToShow:"Email Id",name:"email",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",maxLength:50,value:null===(s=q.values)||void 0===s?void 0:s.email,onChange:q.handleChange,handleBlur:q.handleBlur,error:null===(a=q.errors)||void 0===a?void 0:a.email,touched:null===(t=q.touched)||void 0===t?void 0:t.email})}):(0,A.jsxs)("div",{className:"flex flex-col",children:[" ",(0,A.jsx)("span",{className:"text-black font-medium",children:"Email Id"}),(0,A.jsx)("span",{className:"text-cello",children:q.values.email})]})})]})]}),c&&(0,A.jsxs)("div",{className:"flex gap-5",children:[(0,A.jsx)("div",{className:"mt-6 flex justify-end",children:(0,A.jsx)("button",{type:"button",className:"bg-aliceBlue-2 text-cello py-2 px-6 rounded-lg font-medium hover:opacity-80 transition-all",onClick:()=>{q.isValid?(u(!1),q.setValues(p)):i("Please fill required details!","error")},children:"Cancel"})}),(0,A.jsx)("div",{className:"mt-6 flex justify-end",children:(0,A.jsx)("button",{type:"button",className:"bg-skyn text-white py-2 px-6 rounded-lg font-medium hover:opacity-80 transition-all",onClick:()=>{q.isValid?q.handleSubmit():i("Please fill required details!","error")},children:"Update"})})]})]})}function q(e){let{orderHistory:s}=e;return(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"font-semibold text-cello font-poppins text-xl text-center",children:"My Orders"}),(0,A.jsx)(N.A,{}),(0,A.jsx)("div",{className:"grid grid-cols-1 gap-4",children:s.map((e=>(0,A.jsxs)("div",{className:"flex flex-col",children:[(0,A.jsx)("span",{className:"text-black",children:e.product}),(0,A.jsxs)("span",{className:"text-kashmirBlue",children:["Ordered on - ",e.orderedOn]})]},e.id)))})]})}function B(e){let{appointmentDetails:s}=e;return(0,A.jsxs)("div",{children:[" ",(0,A.jsx)("p",{className:"font-semibold text-cello font-poppins text-xl text-center",children:"My Appointments"}),(0,A.jsx)(N.A,{}),(0,A.jsx)("div",{className:"grid grid-cols-1 gap-4",children:s.map((e=>(0,A.jsxs)("div",{className:"flex flex-col",children:[(0,A.jsx)("span",{className:"text-black",children:e.treatmentName}),(0,A.jsx)("span",{className:"text-kashmirBlue",children:e.date})]},e.id)))})]})}var I=a(90),E=a(5481),O=a(7340),U=a(5399),F=a(7891);const W=(0,l.lazy)((()=>Promise.all([a.e(2017),a.e(5570),a.e(6624),a.e(3105)]).then(a.bind(a,3105)))),z=(0,l.lazy)((()=>Promise.resolve().then(a.bind(a,7855))));function $(e){var s,a,r,t,d,i,n;let{addresses:o,setAddresses:c,addressFormik:u,isAdding:h,setIsAdding:m,handleAddressSubmit:p}=e;const[x,v]=(0,l.useState)(null),[k,L]=(0,l.useState)(!1),[P,q]=(0,l.useState)({}),B=(0,y.k)(),$=(0,f.wA)(),M=(0,f.d4)((e=>e.userProfile.userProfile)),{isFetching:R,refetch:D}=(0,g.useQuery)(["getUserAddress"],(()=>(0,w.GA)({userId:M.userId})),{refetchOnMount:!0,refetchOnWindowFocus:!1,refetchOnReconnect:!1,retry:!1,onSuccess:e=>{var s;"SUCCESS"===(null===e||void 0===e?void 0:e.status)?(c(null===e||void 0===e?void 0:e.data),null===e||void 0===e||null===(s=e.data)||void 0===s||s.map((e=>u.setValues({id:e.id||"",fullName:e.fullName||"",phone:e.phone||"",addressLine1:e.addressLine1||"",addressLine2:e.addressLine2||"",city:e.city||"",state:e.state||"",pinCode:e.pinCode||"",country:"India"}))),D&&$((0,S.od)({addresses:null===e||void 0===e?void 0:e.data}))):null!==e&&void 0!==e&&e.message.includes("No addresses found")||B(null===e||void 0===e?void 0:e.message,"error")},onError:e=>{B(null===e||void 0===e?void 0:e.message,"error")}}),{mutate:T,isLoading:V}=(0,g.useMutation)(w.xu,{onSuccess(e){"SUCCESS"===(null===e||void 0===e?void 0:e.status)?(B(null===e||void 0===e?void 0:e.message,"success"),D()):B(null===e||void 0===e?void 0:e.message,"error")},onError(e){B(null===e||void 0===e?void 0:e.message,"error")}}),{mutate:Y,isLoading:Z}=(0,g.useMutation)(w.Z1,{onSuccess:e=>{"SUCCESS"===(null===e||void 0===e?void 0:e.status)?(B("Address removed","success"),L(!1),D()):B(null===e||void 0===e?void 0:e.message,"error")},onError:e=>{B(null===e||void 0===e?void 0:e.message,"error")}});return(0,A.jsxs)("div",{children:[(0,A.jsx)(l.Suspense,{fallback:(0,A.jsx)("div",{}),children:(0,A.jsx)(z,{open:R||V||Z})}),(0,A.jsx)("p",{className:"font-semibold text-cello font-poppins text-xl text-center mt-4",children:"Address Details"}),(0,A.jsx)(N.A,{}),(0,A.jsxs)("div",{className:"grid xl:!grid-cols-2 gap-4 mt-4 font-poppins",children:[o.map(((e,s)=>(0,A.jsxs)("div",{className:"flex flex-col justify-between bg-white p-5 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 ease-in-out",children:[(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("p",{className:"text-gray-600 font-bold",children:e.fullName}),(0,A.jsx)("p",{className:"text-gray-600 text-sm mt-2",children:e.phone}),(0,A.jsx)("p",{className:"text-gray-600 text-sm",children:e.addressLine1}),(0,A.jsx)("p",{className:"text-gray-600 text-sm",children:e.addressLine2}),(0,A.jsx)("p",{className:"text-gray-600 text-sm",children:"".concat(e.city,", ").concat(e.state," - ").concat(e.pinCode)}),(0,A.jsx)("hr",{className:"my-4 border-blue-gray-50 px-8"})]}),(0,A.jsxs)("div",{className:"flex flex-col lg:!flex-row gap-3 mt-4",children:[(0,A.jsxs)("button",{onClick:()=>(e=>{const s=o[e];m(!0),v(e),u.setValues({id:s.id||"",fullName:s.fullName||"",phone:s.phone||"",addressLine1:s.addressLine1||"",addressLine2:s.addressLine2||"",city:s.city||"",state:s.state||"",pinCode:s.pinCode||"",country:"India"})})(s),className:"flex items-center space-x-1 text-sm bg-skyn justify-center text-white hover:opacity-80 transition-all duration-300 px-4 py-2 rounded shadow-lg",children:[(0,A.jsx)(j.WXf,{}),(0,A.jsx)("span",{children:"Edit"})]}),(0,A.jsxs)("button",{onClick:()=>(e=>{q(e),L(!0)})(e),className:"flex items-center space-x-1 text-sm justify-center bg-red-600 text-white hover:opacity-80 transition-all duration-300 px-4 py-2 rounded shadow-lg",children:[(0,A.jsx)(j.IXo,{}),(0,A.jsx)("span",{children:"Delete"})]})]})]},s))),!h&&(0,A.jsx)("button",{onClick:()=>{m(!0),v(null),u.resetForm()},className:"flex items-center justify-center p-4 border rounded-md shadow-md bg-gray-100 hover:bg-gray-200 transition",children:(0,A.jsx)(I.tNe,{className:"text-4xl text-gray-600"})})]}),k&&(0,A.jsx)(U.A,{title:"Are you sure you want to delete this address?",handleCancel:()=>{L(!1),q(null)},handlePrimaryButtonClick:()=>{Y({userId:M.userId,addressId:P.id})},confirmButtonText:"Confirm",imageSrc:F.A.images.Common.Warning}),h&&(0,A.jsx)(E.N,{children:(0,A.jsx)(O.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.45},className:"bg-slate-900/20 backdrop-blur p-4 fixed inset-0 z-50 md:grid place-items-center overflow-scroll",children:(0,A.jsxs)(O.P.div,{initial:{scale:0,rotate:"12.5deg"},animate:{scale:1,rotate:"0deg"},exit:{scale:0,rotate:"-12.5deg"},transition:{duration:.45},onClick:e=>e.stopPropagation(),className:"bg-white p-6 rounded-lg w-full max-w-lg",children:[(0,A.jsxs)("form",{children:[(0,A.jsx)("h2",{className:"font-bold mb-4 text-lg",children:"Contact Details"}),(0,A.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,A.jsx)(l.Suspense,{fallback:(0,A.jsx)("div",{}),children:(0,A.jsx)(W,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Full Name",name:"fullName",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"w-full !mb-4",value:null===(s=u.values)||void 0===s?void 0:s.fullName,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.fullName,touched:u.touched.fullName})}),(0,A.jsx)(l.Suspense,{fallback:(0,A.jsx)("div",{}),children:(0,A.jsx)(W,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Contact Number",name:"phone",maxLength:10,regex:C.y.numeric,textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"w-full !mb-4",value:null===(a=u.values)||void 0===a?void 0:a.phone,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.phone,touched:u.touched.phone})})]}),(0,A.jsx)("h2",{className:"font-bold mb-4 text-lg",children:"Address Details"}),(0,A.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,A.jsx)(l.Suspense,{fallback:(0,A.jsx)("div",{}),children:(0,A.jsx)(W,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Address Line 1",name:"addressLine1",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"w-full !mb-4",value:null===(r=u.values)||void 0===r?void 0:r.addressLine1,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.addressLine1,touched:u.touched.addressLine1})}),(0,A.jsx)(l.Suspense,{fallback:(0,A.jsx)("div",{}),children:(0,A.jsx)(W,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Address Line 2",name:"addressLine2",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"w-full !mb-4",value:null===(t=u.values)||void 0===t?void 0:t.addressLine2,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.addressLine2,touched:u.touched.addressLine2})}),(0,A.jsx)(l.Suspense,{fallback:(0,A.jsx)("div",{}),children:(0,A.jsx)(W,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice ",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Pincode",regex:C.y.numeric,name:"pinCode",maxLength:6,textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",value:null===(d=u.values)||void 0===d?void 0:d.pinCode,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.pinCode,touched:u.touched.pinCode})}),(0,A.jsx)(l.Suspense,{fallback:(0,A.jsx)("div",{}),children:(0,A.jsx)(W,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice ",className:"h-12 rounded-md !bg-transparent",placeholder:"City",requiredStar:!0,labelToShow:"City",name:"city",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",value:null===(i=u.values)||void 0===i?void 0:i.city,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.city,touched:u.touched.city})}),(0,A.jsx)(l.Suspense,{fallback:(0,A.jsx)("div",{}),children:(0,A.jsx)(W,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice ",className:"h-12 rounded-md !bg-transparent",placeholder:"State",requiredStar:!0,labelToShow:"State",name:"state",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",value:null===(n=u.values)||void 0===n?void 0:n.state,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.state,touched:u.touched.state})})]})]}),(0,A.jsxs)("div",{className:"flex flex-col md:!flex-row justify-end gap-4 mt-5",children:[(0,A.jsx)("button",{type:"button",onClick:()=>{m(!1),v(null),u.resetForm()},className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 shadow-md",children:"Cancel"}),(0,A.jsx)("button",{type:"button",className:"bg-skyn text-white px-4 py-2 rounded-md hover:bg-skyn-dark hover:opacity-80 shadow-md",onClick:()=>{if(u.isValid){if(null!==x){const e=(0,b.A)((0,b.A)({},o[x]),u.values),s={userId:M.userId,addressId:e.id,updatedAddress:{id:e.id,fullName:e.fullName,phone:e.phone,addressLine1:e.addressLine1,addressLine2:e.addressLine2,city:e.city,state:e.state,pinCode:e.pinCode,country:"India"}};T({reqBody:s})}else p();v(null),m(!1)}else B("Please enter all the required fields!","error")},children:null!==x?"Save Changes":"Add Address"})]})]})})})]})}var M=a(5335);const R=(0,l.lazy)((()=>Promise.resolve().then(a.bind(a,7855))));const D=function(){const[e,s]=(0,l.useState)(!1),a=(0,y.k)(),t=(0,x.zy)(),n=(0,x.Zp)(),b=(0,f.wA)(),j=(0,f.d4)((e=>e.userProfile.userProfile)),[C,N]=(0,l.useState)([]),[k,L]=(0,l.useState)(!1),[I,E]=(0,l.useState)(""),[O,U]=(0,l.useState)(""),[F,W]=(0,l.useState)("Profile");(0,l.useEffect)((()=>{const e=decodeURIComponent(t.hash.replace("#",""));e&&W(e)}),[t.hash]),(0,l.useEffect)((()=>{E((null===j||void 0===j?void 0:j.name)||""),U((null===j||void 0===j?void 0:j.phone)||""),s((null===j||void 0===j?void 0:j.isAdmin)||!1)}),[j]);const z=(0,o.A)("(max-width: 1023px)"),D=[{id:"Profile",label:"My Profile",icon:(0,A.jsx)(m.x$1,{})}],T=[{id:"Profile",label:"My Profile",icon:(0,A.jsx)(m.x$1,{})},{id:"Address",label:"Address",icon:(0,A.jsx)(h.us2,{})},{id:"Appointments",label:"My Appointments",icon:(0,A.jsx)(p.DTo,{})},{id:"Orders",label:"My Orders",icon:(0,A.jsx)(m.AsH,{})}],{mutate:V,isFetching:Y}=(0,g.useMutation)(w.GA,{onSuccess(e){if("SUCCESS"===(null===e||void 0===e?void 0:e.status)){const s=null===e||void 0===e?void 0:e.data;N(s),b((0,S.od)({addresses:s}))}else a(null===e||void 0===e?void 0:e.message,"error")},onError(e){a(e.message,"error")}}),{mutate:Z,isLoading:G}=(0,g.useMutation)(w.vN,{onSuccess(e){var s;"SUCCESS"===(null===e||void 0===e?void 0:e.status)?(a(e.message,"success"),N([...C,null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.addresses.map((e=>({id:e.id||"",name:e.name||"",phone:e.phone||"",addressLine1:e.addressLine1||"",addressLine2:e.addressLine2||"",city:e.city||"",state:e.state||"",pinCode:e.pinCode||""})))]),L(!1),V({userId:j.userId})):a(e.message,"error")},onError(e){a(e.message,"error")}}),H=(0,r.Wx)({enableReinitialize:!0,validateOnMount:!0,validateOnChange:!0,initialValues:d,validationSchema:i,onSubmit:(e,s)=>{let{resetForm:a}=s;Z({userId:j.userId,addressDetails:{fullName:null===e||void 0===e?void 0:e.fullName,phone:null===e||void 0===e?void 0:e.phone,addressLine1:null===e||void 0===e?void 0:e.addressLine1,addressLine2:null===e||void 0===e?void 0:e.addressLine2,city:null===e||void 0===e?void 0:e.city,state:null===e||void 0===e?void 0:e.state,pinCode:null===e||void 0===e?void 0:e.pinCode,country:"India"}}),a()}}),Q=[(0,A.jsx)(v.N_,{to:"/",className:"text-skyn no-underline !font-poppins hover:opacity-80 text-lg",children:"Home"},"1"),(0,A.jsx)(c.A,{className:"!text-cello !font-poppins !text-lg",children:"Profile"},"2")];return(0,A.jsxs)(M.A,{children:[(0,A.jsx)(l.Suspense,{children:(0,A.jsx)(R,{open:G||Y})}),(0,A.jsxs)("div",{className:"mt-3 ".concat(z?"py-3":"py-4 mt-4"),children:[(0,A.jsx)("div",{className:"mt-5 ".concat(z?"px-3":"px-5"),children:(0,A.jsx)(u.A,{separator:">","aria-label":"breadcrumb",className:"mb-4 py-2",children:Q})}),(0,A.jsxs)("div",{className:"flex flex-col md:!flex-row mt-3 md:!space-x-5 space-y-5 md:!space-y-0 ".concat(z?"px-3":"px-5"),children:[(0,A.jsxs)("div",{className:"flex flex-col shadow rounded font-poppins sm:w-full md:!w-3/5 lg:!w-1/3 xl:!1/5 md:!self-start",children:[(0,A.jsxs)("div",{className:"flex flex-col bg-skyn text-white font-bold p-4 rounded-t-lg",children:[(0,A.jsx)("p",{children:I}),(0,A.jsx)("p",{children:O})]}),(0,A.jsx)("div",{className:"flex flex-col p-4",children:(e?D:T).map((e=>(0,A.jsxs)("div",{className:"flex items-center space-x-2 w-full p-2 rounded cursor-pointer mb-2 ".concat(F===e.id?"!bg-slate-300":"hover:!bg-slate-300"),onClick:()=>{return s=e.id,W(s),void n("/user-profile",{replace:!0});var s},children:[e.icon,(0,A.jsx)("div",{className:"flex-1",children:e.label})]},e.id)))})]}),(0,A.jsxs)("div",{className:"shadow md:!p-5 rounded w-full",children:["Profile"===F&&(0,A.jsx)(l.Suspense,{fallback:(0,A.jsx)("div",{}),children:(0,A.jsx)(P,{userProfile:j})}),"Address"===F&&(0,A.jsx)(l.Suspense,{fallback:(0,A.jsx)("div",{}),children:(0,A.jsx)($,{addresses:C,setAddresses:N,addressFormik:H,isAdding:k,setIsAdding:L,handleAddressSubmit:()=>{H.isValid?H.handleSubmit():a("Please fill all the required fields","error")}})}),"Appointments"===F&&(0,A.jsx)(l.Suspense,{fallback:(0,A.jsx)("div",{}),children:(0,A.jsx)(B,{appointmentDetails:[{id:1,treatmentName:"Laser Hair Removal",date:"11-12-2024"},{id:2,treatmentName:"Oxy Hydra",date:"12-12-2024"}]})}),"Orders"===F&&(0,A.jsx)(l.Suspense,{fallback:(0,A.jsx)("div",{}),children:(0,A.jsx)(q,{orderHistory:[{id:1,product:"Cleanser",orderedOn:"11-12-2024"},{id:2,product:"Vitamin C Hydra Gel Creame",orderedOn:"12-12-2024"}]})})]})]})]})]})};const T=function(){return(0,A.jsx)(D,{})}},3245:(e,s,a)=>{a.d(s,{ND:()=>m,RO:()=>c,TC:()=>h,Ty:()=>u,a_:()=>o,bE:()=>i,bc:()=>p,dt:()=>n,od:()=>t,p:()=>r,y4:()=>d});var l=a(7112);const r=e=>({type:l.B6,payload:e}),t=e=>({type:l.kn,payload:e}),d=()=>({type:l.b6}),i=e=>({type:l.l$,payload:e}),n=e=>({type:l.dy,payload:e}),o=()=>({type:l.v3}),c=(e,s)=>({type:l.u0,payload:{productId:e,quantity:s}}),u=e=>({type:l.mP,payload:e}),h=e=>({type:l.VR,payload:e}),m=e=>({type:l.By,payload:e}),p=()=>({type:l.xG})},3190:(e,s,a)=>{a.d(s,{DG:()=>i,GA:()=>d,Z1:()=>o,vN:()=>t,xu:()=>n});var l=a(5831),r=a(1689);const t=async e=>{let{userId:s,addressDetails:a}=e;const t={userId:s,address:a};try{return await r.P.post("".concat(l.A.Users.addAddress),t)}catch(n){var d,i;throw new Error(null===n||void 0===n||null===(d=n.data)||void 0===d||null===(i=d.error)||void 0===i?void 0:i.message)}},d=async e=>{let{userId:s}=e;try{return await r.P.get("".concat(l.A.Users.getUserAddress,"/").concat(s))}catch(d){var a,t;throw new Error(null===d||void 0===d||null===(a=d.data)||void 0===a||null===(t=a.error)||void 0===t?void 0:t.message)}},i=async e=>{let{reqBody:s}=e;try{return await r.P.put(l.A.Users.updateUserDetails,s)}catch(d){var a,t;throw new Error(null===d||void 0===d||null===(a=d.data)||void 0===a||null===(t=a.error)||void 0===t?void 0:t.message)}},n=async e=>{let{reqBody:s}=e;try{return await r.P.put(l.A.Users.updateUserAddress,s)}catch(d){var a,t;throw new Error(null===d||void 0===d||null===(a=d.data)||void 0===a||null===(t=a.error)||void 0===t?void 0:t.message)}},o=async e=>{let{userId:s,addressId:a}=e;try{return await r.P.delete("".concat(l.A.Users.deleteUserAddress,"?userId=").concat(s,"&addressId=").concat(a))}catch(i){var t,d;throw new Error(null===i||void 0===i||null===(t=i.data)||void 0===t||null===(d=t.error)||void 0===d?void 0:d.message)}}},3464:(e,s,a)=>{a.d(s,{A:()=>r});a(2483);var l=a(6723);const r=()=>(0,l.jsx)("div",{className:"my-6",children:(0,l.jsx)("hr",{style:{borderWidth:"0 0 4px",borderImage:"linear-gradient(90deg, rgba(238, 101, 3, 0), rgba(238, 101, 3, 1) 50%, rgba(238, 101, 3, 0) 100%) 0 0 100%",borderStyle:"solid",width:"100%"}})})},1689:(e,s,a)=>{a.d(s,{P:()=>d});var l=a(2555),r=a(4686),t=a(5831);const d=r.A.create({baseURL:t.A.baseURL}),i=r.A.create({baseURL:t.A.baseURL});d.interceptors.request.use((e=>(e.headers=(0,l.A)({},e.headers),e)),(e=>Promise.reject(e))),d.interceptors.response.use((e=>e.data),(e=>{var s;Promise.reject(null===e||void 0===e||null===(s=e.response)||void 0===s?void 0:s.data)}));const n=async()=>{const e=sessionStorage.getItem("token")||"";try{return e||(sessionStorage.clear(),window.location.href="".concat(window.location.origin,"/login"),null)}catch(s){return sessionStorage.clear(),window.location.href="".concat(window.location.origin,"/login"),null}};i.interceptors.request.use((async e=>{const s=await n();return e.headers=(0,l.A)({Authorization:"Bearer ".concat(s)},e.headers),e}),(e=>Promise.reject(e))),i.interceptors.response.use((e=>e.data),(e=>{var s;Promise.reject(null===e||void 0===e||null===(s=e.response)||void 0===s?void 0:s.data)}))}}]);
//# sourceMappingURL=2772.edf70f83.chunk.js.map