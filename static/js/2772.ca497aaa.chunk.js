"use strict";(self.webpackChunkpure_skyn=self.webpackChunkpure_skyn||[]).push([[2772],{5335:(e,s,l)=>{l.d(s,{A:()=>i});var a=l(7340),d=l(6723);const i=e=>{let{children:s}=e;return(0,d.jsx)(a.P.div,{initial:{y:35,opacity:0},whileInView:{y:0,opacity:1},transition:{ease:"easeInOut",duration:.75},viewport:{once:!0},children:s})}},2772:(e,s,l)=>{l.r(s),l.d(s,{default:()=>Y});var a=l(2483),d=l(3117),i=l(947);const r={id:"",fullName:"",phone:"",addressLine1:"",addressLine2:"",city:"",state:"",pinCode:"",country:""},t=()=>i.Ik().shape({fullName:i.Yj().required("Name is required"),phone:i.Yj().matches(/^[0-9]{10}$/,"Enter a valid 10-digit contact number").required("Contact Number is required"),addressLine1:i.Yj().required("Required"),addressLine2:i.Yj().required("Required"),pinCode:i.Yj().length(6,"Enter exactly 6 digits").matches(/^[0-9]+$/,"Enter a valid Pincode").required("Pincode is required"),city:i.Yj().required("City is required"),state:i.Yj().required("State is required")}),n=()=>i.Ik().shape({name:i.Yj().required("Name is required"),phone:i.Yj().matches(/^[0-9]{10}$/,"Enter a valid 10-digit contact number").required("Mobile number is required"),email:i.Yj().email("Please Enter Valid Email").required("Required"),gender:i.Yj().required("Please select a gender")});var o=l(5397),c=l(5470),u=l(592),h=l(2751),m=l(1481),x=l(1901),p=l(3376),v=l(9891),g=l(4315),j=l(7757),f=l(3378),b=l(2555),y=l(5745),N=l(6946),C=l(3464),S=l(3190),w=l(3245),k=l(6723);const L=(0,a.lazy)((()=>Promise.all([l.e(2017),l.e(5570),l.e(6624),l.e(3105)]).then(l.bind(l,3105)))),A=(0,a.lazy)((()=>Promise.resolve().then(l.bind(l,7855))));function q(e){var s,l,i;let{userProfile:r}=e;const t=(0,f.k)(),o=(0,j.wA)(),[c,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(""),[x,p]=(0,a.useState)({name:(null===r||void 0===r?void 0:r.name)||"",phone:(null===r||void 0===r?void 0:r.phone)||"",email:(null===r||void 0===r?void 0:r.email)||"",gender:(null===r||void 0===r?void 0:r.gender)||""});(0,a.useEffect)((()=>{const e=Object.values(x).some((e=>""===e));m(e?"Please update your profile!":"")}),[x]);const{mutate:v,isLoading:q}=(0,g.useMutation)(S.DG,{onSuccess(e){const s=null===e||void 0===e?void 0:e.data;"SUCCESS"===(null===e||void 0===e?void 0:e.status)?(u(!1),t(null===e||void 0===e?void 0:e.message,"success"),o((0,w.p)({userId:null===s||void 0===s?void 0:s.id,email:null===s||void 0===s?void 0:s.email,name:null===s||void 0===s?void 0:s.name,phone:null===s||void 0===s?void 0:s.phone,gender:null===s||void 0===s?void 0:s.gender})),p({name:null===s||void 0===s?void 0:s.name,phone:null===s||void 0===s?void 0:s.phone,email:null===s||void 0===s?void 0:s.email,gender:null===s||void 0===s?void 0:s.gender})):(u(!0),t(null===e||void 0===e?void 0:e.message,"error"))},onError(e){u(!0),t(null===e||void 0===e?void 0:e.message,"error")}}),P=(0,d.Wx)({enableReinitialize:!0,validateOnMount:!0,validateOnChange:!0,initialValues:{name:(null===r||void 0===r?void 0:r.name)||"",phone:(null===r||void 0===r?void 0:r.phone)||"",email:(null===r||void 0===r?void 0:r.email)||"",gender:(null===r||void 0===r?void 0:r.gender)||""},validationSchema:n,onSubmit:e=>{const s=(0,b.A)({id:(null===r||void 0===r?void 0:r.userId)||""},e);v({reqBody:s})}});return(0,k.jsxs)("div",{className:"w-full",children:[(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)("div",{children:"Loading..."}),children:(0,k.jsx)(A,{open:q})}),h&&(0,k.jsxs)("small",{className:"text-bitterSweet",children:[(0,k.jsx)("strong",{className:"!text-black",children:"Note: "}),h]}),(0,k.jsxs)("form",{children:[(0,k.jsxs)("div",{className:"flex flex-col md:!flex-row items-center gap-4 mb-4 justify-center mt-4",children:[(0,k.jsx)("span",{className:"font-semibold text-cello font-poppins text-xl",children:"Personal Information"}),(0,k.jsx)(y.Pj4,{className:"text-gray-500 cursor-pointer hover:text-gray-800 transition",size:20,onClick:()=>u(!c)})]}),(0,k.jsx)(C.A,{}),(0,k.jsxs)("div",{className:"grid lg:!grid-cols-3 gap-4 font-poppins p-4",children:[(0,k.jsx)("div",{children:c?(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(L,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Full Name",name:"name",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",value:P.values.name,onChange:P.handleChange,handleBlur:P.handleBlur,error:P.errors.name,touched:P.touched.name})}):(0,k.jsxs)("div",{className:"flex flex-col",children:[(0,k.jsx)("span",{className:"text-black font-medium",children:"Full Name"}),(0,k.jsxs)("span",{className:"text-kashmirBlue",children:[" ",P.values.name]})]})}),(0,k.jsx)("div",{children:c?(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(L,{textClassOverride:"!text-cello",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Contact Number",maxLength:10,regex:N.y.numeric,name:"phone",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",value:P.values.phone,onChange:P.handleChange,handleBlur:P.handleBlur,error:P.errors.phone,touched:P.touched.phone})}):(0,k.jsxs)("div",{className:"flex flex-col",children:[(0,k.jsx)("span",{className:"text-black font-medium",children:"Phone"}),(0,k.jsxs)("span",{className:"text-cello font-poppins",children:[" ",P.values.phone]})]})}),(0,k.jsx)("div",{className:"flex flex-col",children:c?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("span",{className:"text-sm font-medium pb-1 !text-cello",children:["Gender",(0,k.jsx)("small",{className:"text-bitterSweet",children:"*"})]}),(0,k.jsx)("div",{className:"grid grid-cols-1 gap-2",children:["Male","Female","Others"].map(((e,s)=>(0,k.jsx)("button",{type:"button",className:"py-2 lg:px-4 rounded-lg text-sm font-medium transition-all border ".concat(P.values.gender===e?"bg-skyn text-white border-skyn shadow-md":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"),onClick:()=>P.setFieldValue("gender",e),children:e},s)))})]}):(0,k.jsxs)("div",{className:"flex flex-col",children:[" ",(0,k.jsx)("span",{className:"text-black font-medium",children:"Gender"}),(0,k.jsx)("span",{className:"text-cello",children:P.values.gender})]})}),(0,k.jsx)("div",{children:c?(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(L,{textClassOverride:"!text-cello",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,regex:/^[^!#$%^&*()=+{}[\]:;<>,?/~`|"\\ ]*$/,labelToShow:"Email Id",name:"email",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",maxLength:50,value:null===(s=P.values)||void 0===s?void 0:s.email,onChange:P.handleChange,handleBlur:P.handleBlur,error:null===(l=P.errors)||void 0===l?void 0:l.email,touched:null===(i=P.touched)||void 0===i?void 0:i.email})}):(0,k.jsxs)("div",{className:"flex flex-col",children:[" ",(0,k.jsx)("span",{className:"text-black font-medium",children:"Email Id"}),(0,k.jsx)("span",{className:"text-cello",children:P.values.email})]})})]})]}),c&&(0,k.jsxs)("div",{className:"flex gap-5",children:[(0,k.jsx)("div",{className:"mt-6 flex justify-end",children:(0,k.jsx)("button",{type:"button",className:"bg-aliceBlue-2 text-cello py-2 px-6 rounded-lg font-medium hover:opacity-80 transition-all",onClick:()=>{P.isValid?(u(!1),P.setValues(x)):t("Please fill required details!","error")},children:"Cancel"})}),(0,k.jsx)("div",{className:"mt-6 flex justify-end",children:(0,k.jsx)("button",{type:"button",className:"bg-skyn text-white py-2 px-6 rounded-lg font-medium hover:opacity-80 transition-all",onClick:()=>{P.isValid?P.handleSubmit():t("Please fill required details!","error")},children:"Update"})})]})]})}function P(e){let{orderHistory:s}=e;return(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"font-semibold text-cello font-poppins text-xl text-center",children:"My Orders"}),(0,k.jsx)(C.A,{}),(0,k.jsx)("div",{className:"grid grid-cols-1 gap-4",children:s.map((e=>(0,k.jsxs)("div",{className:"flex flex-col",children:[(0,k.jsx)("span",{className:"text-black",children:e.product}),(0,k.jsxs)("span",{className:"text-kashmirBlue",children:["Ordered on - ",e.orderedOn]})]},e.id)))})]})}function B(e){let{appointmentDetails:s}=e;return(0,k.jsxs)("div",{children:[" ",(0,k.jsx)("p",{className:"font-semibold text-cello font-poppins text-xl text-center",children:"My Appointments"}),(0,k.jsx)(C.A,{}),(0,k.jsx)("div",{className:"grid grid-cols-1 gap-4",children:s.map((e=>(0,k.jsxs)("div",{className:"flex flex-col",children:[(0,k.jsx)("span",{className:"text-black",children:e.treatmentName}),(0,k.jsx)("span",{className:"text-kashmirBlue",children:e.date})]},e.id)))})]})}var E=l(90),I=l(5481),O=l(7340);const F=(0,a.lazy)((()=>Promise.all([l.e(2017),l.e(5570),l.e(6624),l.e(3105)]).then(l.bind(l,3105)))),M=(0,a.lazy)((()=>Promise.resolve().then(l.bind(l,7855))));function W(e){var s,l,d,i,r,t,n;let{addresses:o,setAddresses:c,addressFormik:u,isAdding:h,setIsAdding:m,handleAddressSubmit:x}=e;const[p,v]=(0,a.useState)(null),[L,A]=(0,a.useState)(!1),[q,P]=(0,a.useState)({}),B=(0,f.k)(),W=(0,j.wA)(),V=(0,j.d4)((e=>e.userProfile.userProfile)),{isFetching:z,refetch:T}=(0,g.useQuery)(["getUserAddress"],(()=>(0,S.GA)({userId:V.userId})),{refetchOnMount:!0,refetchOnWindowFocus:!1,refetchOnReconnect:!1,retry:!1,onSuccess:e=>{var s;"SUCCESS"===(null===e||void 0===e?void 0:e.status)?(c(null===e||void 0===e?void 0:e.data),null===e||void 0===e||null===(s=e.data)||void 0===s||s.map((e=>u.setValues({id:e.id||"",fullName:e.fullName||"",phone:e.phone||"",addressLine1:e.addressLine1||"",addressLine2:e.addressLine2||"",city:e.city||"",state:e.state||"",pinCode:e.pinCode||"",country:"India"})))):null!==e&&void 0!==e&&e.message.includes("No addresses found")||B(null===e||void 0===e?void 0:e.message,"error")},onError:e=>{B(null===e||void 0===e?void 0:e.message,"error")}}),{mutate:Y,isLoading:D}=(0,g.useMutation)(S.xu,{onSuccess(e){"SUCCESS"===(null===e||void 0===e?void 0:e.status)?(B(null===e||void 0===e?void 0:e.message,"success"),T()):B(null===e||void 0===e?void 0:e.message,"error")},onError(e){B(null===e||void 0===e?void 0:e.message,"error")}}),{mutate:U,isLoading:R}=(0,g.useMutation)(S.Z1,{onSuccess:e=>{if("SUCCESS"===(null===e||void 0===e?void 0:e.status)){var s;B(null===e||void 0===e?void 0:e.message,"success"),A(!1);const l=null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.addresses;W((0,w.PC)(l)),T()}else B(null===e||void 0===e?void 0:e.message,"error")},onError:e=>{B(null===e||void 0===e?void 0:e.message,"error")}});return(0,k.jsxs)("div",{children:[(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(M,{open:z||D||R})}),(0,k.jsx)("p",{className:"font-semibold text-cello font-poppins text-xl text-center mt-4",children:"Address Details"}),(0,k.jsx)(C.A,{}),(0,k.jsxs)("div",{className:"grid xl:!grid-cols-2 gap-4 mt-4 font-poppins",children:[o.map(((e,s)=>(0,k.jsxs)("div",{className:"flex flex-col justify-between bg-white p-5 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 ease-in-out",children:[(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("p",{className:"text-gray-600 font-bold",children:e.fullName}),(0,k.jsx)("p",{className:"text-gray-600 text-sm mt-2",children:e.phone}),(0,k.jsx)("p",{className:"text-gray-600 text-sm",children:e.addressLine1}),(0,k.jsx)("p",{className:"text-gray-600 text-sm",children:e.addressLine2}),(0,k.jsx)("p",{className:"text-gray-600 text-sm",children:"".concat(e.city,", ").concat(e.state," - ").concat(e.pinCode)}),(0,k.jsx)("hr",{className:"my-4 border-blue-gray-50 px-8"})]}),(0,k.jsxs)("div",{className:"flex flex-col lg:!flex-row gap-3 mt-4",children:[(0,k.jsxs)("button",{onClick:()=>(e=>{const s=o[e];m(!0),v(e),u.setValues({id:s.id||"",fullName:s.fullName||"",phone:s.phone||"",addressLine1:s.addressLine1||"",addressLine2:s.addressLine2||"",city:s.city||"",state:s.state||"",pinCode:s.pinCode||"",country:"India"})})(s),className:"flex items-center space-x-1 text-sm bg-skyn justify-center text-white hover:opacity-80 transition-all duration-300 px-4 py-2 rounded shadow-lg",children:[(0,k.jsx)(y.WXf,{}),(0,k.jsx)("span",{children:"Edit"})]}),(0,k.jsxs)("button",{onClick:()=>(e=>{P(e),A(!0)})(e),className:"flex items-center space-x-1 text-sm justify-center bg-red-600 text-white hover:opacity-80 transition-all duration-300 px-4 py-2 rounded shadow-lg",children:[(0,k.jsx)(y.IXo,{}),(0,k.jsx)("span",{children:"Delete"})]})]})]},s))),!h&&(0,k.jsx)("button",{onClick:()=>{m(!0),v(null),u.resetForm()},className:"flex items-center justify-center p-4 border rounded-md shadow-md bg-gray-100 hover:bg-gray-200 transition",children:(0,k.jsx)(E.tNe,{className:"text-4xl text-gray-600"})})]}),L&&(0,k.jsx)(I.N,{children:(0,k.jsx)(O.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"bg-slate-900/20 backdrop-blur p-4 fixed inset-0 z-50 md:grid place-items-center place-content-center overflow-scroll",children:(0,k.jsxs)(O.P.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.3},className:"bg-white p-6 rounded-lg w-full max-w-lg",children:[(0,k.jsx)("h3",{className:"font-bold text-lg mb-4",children:"Are you sure you want to delete this address?"}),(0,k.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,k.jsx)("button",{onClick:()=>{A(!1),P(null)},className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),(0,k.jsx)("button",{onClick:()=>{U({userId:V.userId,addressId:q.id})},className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",children:"Confirm"})]})]})})}),h&&(0,k.jsx)(I.N,{children:(0,k.jsx)(O.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.45},className:"bg-slate-900/20 backdrop-blur p-4 fixed inset-0 z-50 md:grid place-items-center overflow-scroll",children:(0,k.jsxs)(O.P.div,{initial:{scale:0,rotate:"12.5deg"},animate:{scale:1,rotate:"0deg"},exit:{scale:0,rotate:"-12.5deg"},transition:{duration:.45},onClick:e=>e.stopPropagation(),className:"bg-white p-6 rounded-lg w-full max-w-lg",children:[(0,k.jsxs)("form",{children:[(0,k.jsx)("h2",{className:"font-bold mb-4 text-lg",children:"Contact Details"}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(F,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Full Name",name:"fullName",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"w-full !mb-4",value:null===(s=u.values)||void 0===s?void 0:s.fullName,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.fullName,touched:u.touched.fullName})}),(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(F,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Contact Number",name:"phone",maxLength:10,regex:N.y.numeric,textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"w-full !mb-4",value:null===(l=u.values)||void 0===l?void 0:l.phone,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.phone,touched:u.touched.phone})})]}),(0,k.jsx)("h2",{className:"font-bold mb-4 text-lg",children:"Address Details"}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(F,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Address Line 1",name:"addressLine1",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"w-full !mb-4",value:null===(d=u.values)||void 0===d?void 0:d.addressLine1,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.addressLine1,touched:u.touched.addressLine1})}),(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(F,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Address Line 2",name:"addressLine2",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"w-full !mb-4",value:null===(i=u.values)||void 0===i?void 0:i.addressLine2,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.addressLine2,touched:u.touched.addressLine2})}),(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(F,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice ",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Pincode",regex:N.y.numeric,name:"pinCode",maxLength:6,textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",value:null===(r=u.values)||void 0===r?void 0:r.pinCode,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.pinCode,touched:u.touched.pinCode})}),(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(F,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice ",className:"h-12 rounded-md !bg-transparent",placeholder:"City",requiredStar:!0,labelToShow:"City",name:"city",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",value:null===(t=u.values)||void 0===t?void 0:t.city,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.city,touched:u.touched.city})}),(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(F,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice ",className:"h-12 rounded-md !bg-transparent",placeholder:"State",requiredStar:!0,labelToShow:"State",name:"state",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",value:null===(n=u.values)||void 0===n?void 0:n.state,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.state,touched:u.touched.state})})]})]}),(0,k.jsxs)("div",{className:"flex flex-col md:!flex-row justify-end gap-4 mt-5",children:[(0,k.jsx)("button",{type:"button",onClick:()=>{m(!1),v(null),u.resetForm()},className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 shadow-md",children:"Cancel"}),(0,k.jsx)("button",{type:"button",className:"bg-skyn text-white px-4 py-2 rounded-md hover:bg-skyn-dark hover:opacity-80 shadow-md",onClick:()=>{if(u.isValid){if(null!==p){const e=(0,b.A)((0,b.A)({},o[p]),u.values),s={userId:V.userId,addressId:e.id,updatedAddress:{id:e.id,fullName:e.fullName,phone:e.phone,addressLine1:e.addressLine1,addressLine2:e.addressLine2,city:e.city,state:e.state,pinCode:e.pinCode,country:"India"}};Y({reqBody:s})}else x();v(null),m(!1)}else B("Please enter all the required fields!","error")},children:null!==p?"Save Changes":"Add Address"})]})]})})})]})}var V=l(5335);const z=(0,a.lazy)((()=>Promise.resolve().then(l.bind(l,7855))));const T=function(){const e=(0,f.k)(),s=(0,p.zy)(),l=(0,p.Zp)(),i=(0,j.wA)(),n=(0,j.d4)((e=>e.userProfile.userProfile)),[b,y]=(0,a.useState)([]),[N,C]=(0,a.useState)(!1),[L,A]=(0,a.useState)(""),[E,I]=(0,a.useState)(""),[O,F]=(0,a.useState)("Profile");(0,a.useEffect)((()=>{const e=decodeURIComponent(s.hash.replace("#",""));e&&F(e)}),[s.hash]),(0,a.useEffect)((()=>{A((null===n||void 0===n?void 0:n.name)||""),I((null===n||void 0===n?void 0:n.phone)||"")}),[n]);const M=(0,o.A)("(max-width: 1023px)"),T=((0,o.A)("(max-width: 767px)"),m.x$1,[{id:"Profile",label:"My Profile",icon:(0,k.jsx)(m.x$1,{})},{id:"Address",label:"Address",icon:(0,k.jsx)(h.us2,{})},{id:"Appointments",label:"My Appointments",icon:(0,k.jsx)(x.DTo,{})},{id:"Orders",label:"My Orders",icon:(0,k.jsx)(m.AsH,{})}]),{mutate:Y,isFetching:D}=(0,g.useMutation)(S.GA,{onSuccess(s){if("SUCCESS"===(null===s||void 0===s?void 0:s.status)){const e=null===s||void 0===s?void 0:s.data;y(e),i((0,w.od)({addresses:e}))}else e(null===s||void 0===s?void 0:s.message,"error")},onError(s){e(s.message,"error")}}),{mutate:U,isLoading:R}=(0,g.useMutation)(S.vN,{onSuccess(s){var l;"SUCCESS"===(null===s||void 0===s?void 0:s.status)?(e(s.message,"success"),y([...b,null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.addresses.map((e=>({id:e.id||"",name:e.name||"",phone:e.phone||"",addressLine1:e.addressLine1||"",addressLine2:e.addressLine2||"",city:e.city||"",state:e.state||"",pinCode:e.pinCode||""})))]),C(!1),Y({userId:n.userId})):e(s.message,"error")},onError(s){e(s.message,"error")}}),H=(0,d.Wx)({enableReinitialize:!0,validateOnMount:!0,validateOnChange:!0,initialValues:r,validationSchema:t,onSubmit:(e,s)=>{let{resetForm:l}=s;U({userId:n.userId,addressDetails:{fullName:null===e||void 0===e?void 0:e.fullName,phone:null===e||void 0===e?void 0:e.phone,addressLine1:null===e||void 0===e?void 0:e.addressLine1,addressLine2:null===e||void 0===e?void 0:e.addressLine2,city:null===e||void 0===e?void 0:e.city,state:null===e||void 0===e?void 0:e.state,pinCode:null===e||void 0===e?void 0:e.pinCode,country:"India"}}),l()}}),$=[(0,k.jsx)(v.N_,{to:"/",className:"text-skyn no-underline !font-poppins hover:opacity-80 text-lg",children:"Home"},"1"),(0,k.jsx)(c.A,{className:"!text-cello !font-poppins !text-lg",children:"Profile"},"2")];return(0,k.jsxs)(V.A,{children:[(0,k.jsx)(a.Suspense,{children:(0,k.jsx)(z,{open:R||D})}),(0,k.jsxs)("div",{className:"mt-3 ".concat(M?"py-3":"py-4 mt-4"),children:[(0,k.jsx)("div",{className:"mt-5 ".concat(M?"px-3":"px-5"),children:(0,k.jsx)(u.A,{separator:">","aria-label":"breadcrumb",className:"mb-4 py-2",children:$})}),(0,k.jsxs)("div",{className:"flex flex-col md:!flex-row mt-3 md:!space-x-5 space-y-5 md:!space-y-0 ".concat(M?"px-3":"px-5"),children:[(0,k.jsxs)("div",{className:"flex flex-col shadow rounded font-poppins sm:w-full md:!w-3/5 lg:!w-1/3 xl:!1/5 md:!self-start",children:[(0,k.jsxs)("div",{className:"flex flex-col bg-skyn text-white font-bold p-4 rounded-t-lg",children:[(0,k.jsx)("p",{children:L}),(0,k.jsx)("p",{children:E})]}),(0,k.jsx)("div",{className:"flex flex-col p-4",children:T.map((e=>(0,k.jsxs)("div",{className:"flex items-center space-x-2 w-full p-2 rounded cursor-pointer mb-2 ".concat(O===e.id?"!bg-slate-300":"hover:!bg-slate-300"),onClick:()=>{return s=e.id,F(s),void l("/user-profile",{replace:!0});var s},children:[e.icon,(0,k.jsx)("div",{className:"flex-1",children:e.label})]},e.id)))})]}),(0,k.jsxs)("div",{className:"shadow md:!p-5 rounded w-full",children:["Profile"===O&&(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(q,{userProfile:n})}),"Address"===O&&(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(W,{addresses:b,setAddresses:y,addressFormik:H,isAdding:N,setIsAdding:C,handleAddressSubmit:()=>{H.isValid?H.handleSubmit():e("Please fill all the required fields","error")}})}),"Appointments"===O&&(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(B,{appointmentDetails:[{id:1,treatmentName:"Laser Hair Removal",date:"11-12-2024"},{id:2,treatmentName:"Oxy Hydra",date:"12-12-2024"}]})}),"Orders"===O&&(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(P,{orderHistory:[{id:1,product:"Cleanser",orderedOn:"11-12-2024"},{id:2,product:"Vitamin C Hydra Gel Creame",orderedOn:"12-12-2024"}]})})]})]})]})]})};const Y=function(){return(0,k.jsx)(T,{})}},3464:(e,s,l)=>{l.d(s,{A:()=>d});l(2483);var a=l(6723);const d=()=>(0,a.jsx)("div",{className:"my-6",children:(0,a.jsx)("hr",{style:{borderWidth:"0 0 4px",borderImage:"linear-gradient(90deg, rgba(238, 101, 3, 0), rgba(238, 101, 3, 1) 50%, rgba(238, 101, 3, 0) 100%) 0 0 100%",borderStyle:"solid",width:"100%"}})})}}]);
//# sourceMappingURL=2772.ca497aaa.chunk.js.map