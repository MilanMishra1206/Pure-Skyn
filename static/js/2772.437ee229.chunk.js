"use strict";(self.webpackChunkpure_skyn=self.webpackChunkpure_skyn||[]).push([[2772],{5399:(e,s,a)=>{a.d(s,{A:()=>i});var l=a(5481),r=a(7340),d=a(7891),t=a(6723);const i=function(e){let{title:s,handleCancel:a,handlePrimaryButtonClick:i,confirmButtonText:n,confirmButtonColor:o="bg-red-600 hover:bg-red-700",imageSrc:c=d.A.images.Common.removeItem}=e;return(0,t.jsx)(l.N,{children:(0,t.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"bg-slate-900/20 backdrop-blur p-4 fixed inset-0 z-50 md:grid place-items-center place-content-center overflow-scroll",children:(0,t.jsxs)(r.P.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.3},className:"bg-white p-8 rounded-lg w-full max-w-lg",children:[(0,t.jsx)("div",{className:"flex justify-center mb-4",children:(0,t.jsx)("img",{src:c,alt:"Confirmation Icon",className:"h-16"})}),(0,t.jsx)("h3",{className:"font-bold text-lg mb-4 text-center text-coal",children:s}),(0,t.jsxs)("div",{className:"flex flex-col md:!flex-row justify-center gap-4 mt-6",children:[(0,t.jsx)("button",{onClick:a,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),(0,t.jsx)("button",{onClick:i,className:"text-white px-4 py-2 rounded-md ".concat(o," "),children:n})]})]})})})}},5831:(e,s,a)=>{a.d(s,{A:()=>l});const l={baseURL:"https://skynapi.duckdns.org/api/v1",Admin:{getAllUsers:"users/all",availableTechnicians:"admin/available-technicians"},Auth:{login:"/auth/login",loginAdmin:"/admin/login",registerUser:"/admin/register",requestChangePassword:"/auth/request-password-change?email=",changePassword:"/auth/change-password"},Booking:{getCartDetails:"/cart/",reqBooking:"/booking/request",createBooking:"/booking/create",getUserBookings:"/booking"},Cart:{saveServiceCart:"/cart/add-update",getServiceCart:"/cart/"},Products:{getAllProducts:"/products/all",getProductsByCategory:"/products/category"},Query:{newQuery:"/query/new",updateQueryStatus:"/query/",getAllQuery:"/query/all",getQueryWithFilter:"/query/status/"},Services:{getAllServices:"/services/all",createService:"/services/create"},Users:{addAddress:"/auth/user/add-address",getUserAddress:"/users/address",updateUserDetails:"/auth/update-user",updateUserAddress:"/auth/update-address",deleteUserAddress:"/auth/user/delete-address"}}},5335:(e,s,a)=>{a.d(s,{A:()=>d});var l=a(7340),r=a(6723);const d=e=>{let{children:s}=e;return(0,r.jsx)(l.P.div,{initial:{y:35,opacity:0},whileInView:{y:0,opacity:1},transition:{ease:"easeInOut",duration:.75},viewport:{once:!0},children:s})}},6946:(e,s,a)=>{a.d(s,{H:()=>r,y:()=>l});const l={numeric:/^[0-9]*$/,alphabet:/^[a-zA-Z.]+$/,alphabetWithSpace:/^[a-zA-Z ]*$/,alphabetNumberWithSpace:/^[a-zA-Z0-9\s&-. ]*$/,stringWithSpaces:/^[a-zA-Z0-9\s!@#$%^&*()-_=+[\]{}|;:'",.<>/?]*$/,mobileNumber:/^[56789]\d{9}$/,noRepeatMobileNumber:/^(?!.*(\d)\1{4})[56789]\d{9}$/,stringWithoutSpecialCharacters:/^[^~^|`?+\-=<>@$%*]+$/,emailValidationRegex:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,alphaNumeric:/^[a-zA-Z0-9\s]*$/};function r(e){return"\u20b9".concat(new Intl.NumberFormat("en-IN",{maximumFractionDigits:0}).format(e))}},2772:(e,s,a)=>{a.r(s),a.d(s,{default:()=>Z});var l=a(2483),r=a(3117),d=a(947);const t={id:"",fullName:"",phone:"",addressLine1:"",addressLine2:"",city:"",state:"",pinCode:"",country:""},i=()=>d.Ik().shape({fullName:d.Yj().required("Name is required"),phone:d.Yj().matches(/^[0-9]{10}$/,"Enter a valid 10-digit contact number").required("Contact Number is required"),addressLine1:d.Yj().required("Required"),addressLine2:d.Yj().required("Required"),pinCode:d.Yj().length(6,"Enter exactly 6 digits").matches(/^[0-9]+$/,"Enter a valid Pincode").required("Pincode is required"),city:d.Yj().required("City is required"),state:d.Yj().required("State is required")}),n=()=>d.Ik().shape({name:d.Yj().required("Name is required"),phone:d.Yj().matches(/^[0-9]{10}$/,"Enter a valid 10-digit contact number").required("Mobile number is required"),email:d.Yj().email("Please Enter Valid Email").required("Required"),gender:d.Yj().required("Please select a gender")});var o=a(5397),c=a(5470),u=a(592),m=a(2751),h=a(1481),x=a(1901),p=a(3376),v=a(9891),g=a(4315),f=a(7757),j=a(3378),b=a(2555),y=a(5745),N=a(6946),C=a(3464),w=a(3190),S=a(3245),k=a(6723);const A=(0,l.lazy)((()=>Promise.all([a.e(2442),a.e(2017),a.e(5570),a.e(6624),a.e(3105)]).then(a.bind(a,3105)))),L=(0,l.lazy)((()=>Promise.resolve().then(a.bind(a,7855))));function P(e){var s,a,d;let{userProfile:t}=e;const i=(0,j.k)(),o=(0,f.wA)(),[c,u]=(0,l.useState)(!1),[m,h]=(0,l.useState)(""),[x,p]=(0,l.useState)({name:(null===t||void 0===t?void 0:t.name)||"",phone:(null===t||void 0===t?void 0:t.phone)||"",email:(null===t||void 0===t?void 0:t.email)||"",gender:(null===t||void 0===t?void 0:t.gender)||""});(0,l.useEffect)((()=>{const e=Object.values(x).some((e=>""===e));h(e?"Please update your profile!":"")}),[x]);const{mutate:v,isLoading:P}=(0,g.useMutation)(w.DG,{onSuccess(e){const s=null===e||void 0===e?void 0:e.data;"SUCCESS"===(null===e||void 0===e?void 0:e.status)?(u(!1),i(null===e||void 0===e?void 0:e.message,"success"),o((0,S.p)({userId:null===s||void 0===s?void 0:s.id,email:null===s||void 0===s?void 0:s.email,name:null===s||void 0===s?void 0:s.name,phone:null===s||void 0===s?void 0:s.phone,gender:null===s||void 0===s?void 0:s.gender})),p({name:null===s||void 0===s?void 0:s.name,phone:null===s||void 0===s?void 0:s.phone,email:null===s||void 0===s?void 0:s.email,gender:null===s||void 0===s?void 0:s.gender})):(u(!0),i(null===e||void 0===e?void 0:e.message,"error"))},onError(e){u(!0),i(null===e||void 0===e?void 0:e.message,"error")}}),B=(0,r.Wx)({enableReinitialize:!0,validateOnMount:!0,validateOnChange:!0,initialValues:{name:(null===t||void 0===t?void 0:t.name)||"",phone:(null===t||void 0===t?void 0:t.phone)||"",email:(null===t||void 0===t?void 0:t.email)||"",gender:(null===t||void 0===t?void 0:t.gender)||""},validationSchema:n,onSubmit:e=>{const s=(0,b.A)({id:(null===t||void 0===t?void 0:t.userId)||""},e);v({reqBody:s})}});return(0,k.jsxs)("div",{className:"w-full",children:[(0,k.jsx)(l.Suspense,{fallback:(0,k.jsx)("div",{children:"Loading..."}),children:(0,k.jsx)(L,{open:P})}),m&&(0,k.jsxs)("small",{className:"text-bitterSweet",children:[(0,k.jsx)("strong",{className:"!text-black",children:"Note: "}),m]}),(0,k.jsxs)("form",{children:[(0,k.jsxs)("div",{className:"flex flex-col md:!flex-row items-center gap-4 mb-4 justify-center mt-4",children:[(0,k.jsx)("span",{className:"font-semibold text-cello font-poppins text-xl",children:"Personal Information"}),(0,k.jsx)(y.Pj4,{className:"text-gray-500 cursor-pointer hover:text-gray-800 transition",size:20,onClick:()=>u(!c)})]}),(0,k.jsx)(C.A,{}),(0,k.jsxs)("div",{className:"grid lg:!grid-cols-3 gap-3 font-poppins p-4",children:[(0,k.jsx)("div",{children:c?(0,k.jsx)(l.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(A,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Full Name",name:"name",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",value:B.values.name,onChange:B.handleChange,handleBlur:B.handleBlur,error:B.errors.name,touched:B.touched.name})}):(0,k.jsxs)("div",{className:"flex flex-col",children:[(0,k.jsx)("span",{className:"text-black font-medium",children:"Full Name"}),(0,k.jsxs)("span",{className:"text-kashmirBlue",children:[" ",B.values.name]})]})}),(0,k.jsx)("div",{children:c?(0,k.jsx)(l.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(A,{textClassOverride:"!text-cello",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Contact Number",maxLength:10,regex:N.y.numeric,name:"phone",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",value:B.values.phone,onChange:B.handleChange,handleBlur:B.handleBlur,error:B.errors.phone,touched:B.touched.phone})}):(0,k.jsxs)("div",{className:"flex flex-col",children:[(0,k.jsx)("span",{className:"text-black font-medium",children:"Phone"}),(0,k.jsxs)("span",{className:"text-cello font-poppins",children:[" ",B.values.phone]})]})}),(0,k.jsx)("div",{className:"flex flex-col",children:c?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("span",{className:"text-sm font-medium pb-1 !text-cello",children:["Gender",(0,k.jsx)("small",{className:"text-bitterSweet",children:"*"})]}),(0,k.jsx)("div",{className:"grid grid-cols-1 gap-2",children:["Male","Female","Others"].map(((e,s)=>(0,k.jsx)("button",{type:"button",className:"py-2 lg:px-4 rounded-lg text-sm font-medium transition-all border ".concat(B.values.gender===e?"bg-skyn text-white border-skyn shadow-md":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"),onClick:()=>B.setFieldValue("gender",e),children:e},s)))})]}):(0,k.jsxs)("div",{className:"flex flex-col",children:[" ",(0,k.jsx)("span",{className:"text-black font-medium",children:"Gender"}),(0,k.jsx)("span",{className:"text-cello",children:B.values.gender})]})}),(0,k.jsx)("div",{children:c?(0,k.jsx)(l.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(A,{textClassOverride:"!text-cello",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,regex:/^[^!#$%^&*()=+{}[\]:;<>,?/~`|"\\ ]*$/,labelToShow:"Email Id",name:"email",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",maxLength:50,value:null===(s=B.values)||void 0===s?void 0:s.email,onChange:B.handleChange,handleBlur:B.handleBlur,error:null===(a=B.errors)||void 0===a?void 0:a.email,touched:null===(d=B.touched)||void 0===d?void 0:d.email})}):(0,k.jsxs)("div",{className:"flex flex-col",children:[" ",(0,k.jsx)("span",{className:"text-black font-medium",children:"Email Id"}),(0,k.jsx)("span",{className:"text-cello",children:B.values.email})]})})]})]}),c&&(0,k.jsxs)("div",{className:"flex gap-5",children:[(0,k.jsx)("div",{className:"mt-6 flex justify-end",children:(0,k.jsx)("button",{type:"button",className:"bg-aliceBlue-2 text-cello py-2 px-6 rounded-lg font-medium hover:opacity-80 transition-all",onClick:()=>{B.isValid?(u(!1),B.setValues(x)):i("Please fill required details!","error")},children:"Cancel"})}),(0,k.jsx)("div",{className:"mt-6 flex justify-end",children:(0,k.jsx)("button",{type:"button",className:"bg-skyn text-white py-2 px-6 rounded-lg font-medium hover:opacity-80 transition-all",onClick:()=>{B.isValid?B.handleSubmit():i("Please fill required details!","error")},children:"Update"})})]})]})}function B(e){let{orderHistory:s}=e;return(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"font-semibold text-cello font-poppins text-xl text-center",children:"My Orders"}),(0,k.jsx)(C.A,{}),(0,k.jsx)("div",{className:"grid grid-cols-1 gap-4",children:s.map((e=>(0,k.jsxs)("div",{className:"flex flex-col",children:[(0,k.jsx)("span",{className:"text-black",children:e.product}),(0,k.jsxs)("span",{className:"text-kashmirBlue",children:["Ordered on - ",e.orderedOn]})]},e.id)))})]})}var I=a(9073),q=a(3786);const E=(0,l.lazy)((()=>Promise.resolve().then(a.bind(a,7855))));function U(e){let{userProfile:s}=e;const a=(0,j.k)(),[r,d]=(0,l.useState)([]),{isFetching:t}=(0,g.useQuery)(["getUserBookings"],(()=>(0,I.W2)({userId:(null===s||void 0===s?void 0:s.userId)||""})),{refetchOnMount:!0,refetchOnWindowFocus:!1,refetchOnReconnect:!1,retry:!1,onSuccess:e=>{"SUCCESS"===(null===e||void 0===e?void 0:e.status)?(d(null===e||void 0===e?void 0:e.data),console.log(null===e||void 0===e?void 0:e.data)):a(null===e||void 0===e?void 0:e.message,"error")},onError:()=>{a("Something went wrong! Please try again after sometime","error")}});return(0,k.jsxs)("div",{children:[(0,k.jsx)(l.Suspense,{children:(0,k.jsx)(E,{open:t})}),(0,k.jsx)("p",{className:"font-semibold text-cello font-poppins text-xl text-center",children:"My Appointments"}),(0,k.jsx)(C.A,{}),(0,k.jsx)("div",{className:"grid grid-cols-1 gap-4",children:null===r||void 0===r?void 0:r.map(((e,a)=>{var l;const r=null===s||void 0===s||null===(l=s.addresses)||void 0===l?void 0:l.find((s=>{var a;return s.id===(null===e||void 0===e||null===(a=e.userInfo)||void 0===a?void 0:a.address)}));return(0,k.jsxs)("div",{className:"grid py-4 px-2 md:!p-4 gap-2 text-sm bg-gray-50 rounded-lg shadow-md p-4 mb-6 space-y-2",children:[(0,k.jsxs)("p",{className:"font-bold text-xl text-center",children:["Booking #",a+1]}),(0,k.jsx)(C.A,{}),(0,k.jsxs)("div",{className:"flex flex-col gap-2 p-2",children:[(0,k.jsxs)("span",{className:"font-semibold text-denim",children:["Booking ID:"," ",(0,k.jsx)("span",{className:"font-bold text-cello",children:null===e||void 0===e?void 0:e.bookingId})]}),(0,k.jsxs)("span",{className:"font-semibold text-denim",children:["Status:"," ",(0,k.jsx)("span",{className:"font-bold text-cello",children:null===e||void 0===e?void 0:e.status})]}),(0,k.jsxs)("span",{className:"font-semibold text-denim",children:["Created At:"," ",(0,k.jsx)("span",{className:"font-bold text-black",children:new Date(null===e||void 0===e?void 0:e.createdAt).toLocaleString()})]})]}),(0,k.jsxs)("div",{className:"border p-4 rounded",children:[(0,k.jsx)("p",{className:"text-xl font-semibold mb-2",children:"User Info"}),(0,k.jsx)("hr",{}),(0,k.jsxs)("div",{className:"grid lg:!grid-cols-2 gap-2 mt-4",children:[(0,k.jsxs)("span",{className:"font-medium text-coal",children:[(0,k.jsx)("span",{className:"font-medium text-cello",children:"Name:"})," ",null===e||void 0===e?void 0:e.userInfo.name]}),(0,k.jsxs)("span",{className:"font-medium text-coal",children:[(0,k.jsx)("span",{className:"font-medium text-cello",children:"Email:"})," ",null===e||void 0===e?void 0:e.userInfo.email]}),(0,k.jsxs)("span",{className:"font-medium text-coal",children:[(0,k.jsx)("span",{className:"font-medium text-cello",children:"Mobile:"})," ",null===e||void 0===e?void 0:e.userInfo.mobile]}),(0,k.jsxs)("span",{className:"font-medium text-coal",children:[(0,k.jsx)("span",{className:"font-medium text-cello",children:"Address:"})," ",null===r||void 0===r?void 0:r.addressLine1,","," ",null===r||void 0===r?void 0:r.addressLine2]}),(0,k.jsxs)("span",{className:"font-medium text-coal",children:[(0,k.jsx)("span",{className:"font-medium text-cello",children:"City:"})," ",null===e||void 0===e?void 0:e.userInfo.city]}),(0,k.jsxs)("span",{className:"font-medium text-coal",children:[(0,k.jsx)("span",{className:"font-medium text-cello",children:"Pin Code:"})," ",null===r||void 0===r?void 0:r.pinCode]})]})]}),(0,k.jsxs)("div",{className:"border p-4 rounded",children:[(0,k.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Services Booked"}),null===e||void 0===e?void 0:e.servicesBooked.map(((e,s)=>(0,k.jsxs)("div",{className:"mb-4 border-t pt-2",children:[(0,k.jsxs)("p",{className:"font-semibold text-denim",children:["Service Name:"," ",(0,k.jsx)("span",{className:"text-coal",children:q.$t[e.subServiceId]||"Unknown Service"})]}),e.sessions.map(((e,s)=>(0,k.jsxs)("div",{className:"ml-4 mt-2",children:[(0,k.jsxs)("p",{className:"text-sm",children:[(0,k.jsx)("strong",{children:"Date:"})," ",null===e||void 0===e?void 0:e.treatmentDate]}),(0,k.jsxs)("p",{className:"text-sm",children:[(0,k.jsx)("strong",{children:"Time:"})," ",null===e||void 0===e?void 0:e.appointmentTime]})]},s)))]},s)))]})]},a)}))})]})}var O=a(90),F=a(5481),W=a(7340),z=a(5399),$=a(7891);const M=(0,l.lazy)((()=>Promise.all([a.e(2442),a.e(2017),a.e(5570),a.e(6624),a.e(3105)]).then(a.bind(a,3105)))),D=(0,l.lazy)((()=>Promise.resolve().then(a.bind(a,7855))));function T(e){var s,a,r,d,t,i,n;let{addresses:o,setAddresses:c,addressFormik:u,isAdding:m,setIsAdding:h,handleAddressSubmit:x}=e;const[p,v]=(0,l.useState)(null),[A,L]=(0,l.useState)(!1),[P,B]=(0,l.useState)({}),I=(0,j.k)(),q=(0,f.wA)(),E=(0,f.d4)((e=>e.userProfile.userProfile)),{isFetching:U,refetch:T}=(0,g.useQuery)(["getUserAddress"],(()=>(0,w.GA)({userId:E.userId})),{refetchOnMount:!0,refetchOnWindowFocus:!1,refetchOnReconnect:!1,retry:!1,onSuccess:e=>{var s;"SUCCESS"===(null===e||void 0===e?void 0:e.status)?(c(null===e||void 0===e?void 0:e.data),null===e||void 0===e||null===(s=e.data)||void 0===s||s.map((e=>u.setValues({id:e.id||"",fullName:e.fullName||"",phone:e.phone||"",addressLine1:e.addressLine1||"",addressLine2:e.addressLine2||"",city:e.city||"",state:e.state||"",pinCode:e.pinCode||"",country:"India"}))),T&&q((0,S.od)({addresses:null===e||void 0===e?void 0:e.data}))):null!==e&&void 0!==e&&e.message.includes("No addresses found")||I(null===e||void 0===e?void 0:e.message,"error")},onError:e=>{I(null===e||void 0===e?void 0:e.message,"error")}}),{mutate:R,isLoading:V}=(0,g.useMutation)(w.xu,{onSuccess(e){"SUCCESS"===(null===e||void 0===e?void 0:e.status)?(I(null===e||void 0===e?void 0:e.message,"success"),T()):I(null===e||void 0===e?void 0:e.message,"error")},onError(e){I(null===e||void 0===e?void 0:e.message,"error")}}),{mutate:Y,isLoading:Z}=(0,g.useMutation)(w.Z1,{onSuccess:e=>{"SUCCESS"===(null===e||void 0===e?void 0:e.status)?(I("Address removed","success"),L(!1),T()):I(null===e||void 0===e?void 0:e.message,"error")},onError:e=>{I(null===e||void 0===e?void 0:e.message,"error")}});return(0,k.jsxs)("div",{children:[(0,k.jsx)(l.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(D,{open:U||V||Z})}),(0,k.jsx)("p",{className:"font-semibold text-cello font-poppins text-xl text-center mt-4",children:"Address Details"}),(0,k.jsx)(C.A,{}),(0,k.jsxs)("div",{className:"grid xl:!grid-cols-2 gap-4 mt-4 font-poppins p-2",children:[o.map(((e,s)=>(0,k.jsxs)("div",{className:"flex flex-col justify-between bg-white p-4 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 ease-in-out",children:[(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("span",{className:"text-gray-600 font-bold",children:e.fullName}),(0,k.jsx)("span",{className:"text-gray-600 text-sm mt-2",children:e.phone}),(0,k.jsx)("span",{className:"text-gray-600 text-sm",children:e.addressLine1}),(0,k.jsx)("span",{className:"text-gray-600 text-sm",children:e.addressLine2}),(0,k.jsx)("span",{className:"text-gray-600 text-sm",children:"".concat(e.city,", ").concat(e.state," - ").concat(e.pinCode)}),(0,k.jsx)("hr",{className:"my-4 border-blue-gray-50 px-8"})]}),(0,k.jsxs)("div",{className:"flex flex-col lg:!flex-row gap-3 mt-4",children:[(0,k.jsxs)("button",{onClick:()=>(e=>{const s=o[e];h(!0),v(e),u.setValues({id:s.id||"",fullName:s.fullName||"",phone:s.phone||"",addressLine1:s.addressLine1||"",addressLine2:s.addressLine2||"",city:s.city||"",state:s.state||"",pinCode:s.pinCode||"",country:"India"})})(s),className:"flex items-center space-x-1 text-sm bg-skyn justify-center text-white hover:opacity-80 transition-all duration-300 px-4 py-2 rounded shadow-lg",children:[(0,k.jsx)(y.WXf,{}),(0,k.jsx)("span",{children:"Edit"})]}),(0,k.jsxs)("button",{onClick:()=>(e=>{B(e),L(!0)})(e),className:"flex items-center space-x-1 text-sm justify-center bg-red-600 text-white hover:opacity-80 transition-all duration-300 px-4 py-2 rounded shadow-lg",children:[(0,k.jsx)(y.IXo,{}),(0,k.jsx)("span",{children:"Delete"})]})]})]},s))),!m&&(0,k.jsx)("button",{onClick:()=>{h(!0),v(null),u.resetForm()},className:"flex items-center justify-center p-4 border rounded-md shadow-md bg-gray-100 hover:bg-gray-200 transition",children:(0,k.jsx)(O.tNe,{className:"text-4xl text-gray-600"})})]}),A&&(0,k.jsx)(z.A,{title:"Are you sure you want to delete this address?",handleCancel:()=>{L(!1),B(null)},handlePrimaryButtonClick:()=>{Y({userId:E.userId,addressId:P.id})},confirmButtonText:"Confirm",imageSrc:$.A.images.Common.Warning}),m&&(0,k.jsx)(F.N,{children:(0,k.jsx)(W.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.45},className:"bg-slate-900/20 backdrop-blur p-4 fixed inset-0 z-50 md:grid place-items-center overflow-scroll",children:(0,k.jsxs)(W.P.div,{initial:{scale:0,rotate:"12.5deg"},animate:{scale:1,rotate:"0deg"},exit:{scale:0,rotate:"-12.5deg"},transition:{duration:.45},onClick:e=>e.stopPropagation(),className:"bg-white p-6 rounded-lg w-full max-w-lg",children:[(0,k.jsxs)("form",{children:[(0,k.jsx)("h2",{className:"font-bold mb-4 text-lg",children:"Contact Details"}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,k.jsx)(l.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(M,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Full Name",name:"fullName",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"w-full !mb-4",value:null===(s=u.values)||void 0===s?void 0:s.fullName,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.fullName,touched:u.touched.fullName})}),(0,k.jsx)(l.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(M,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Contact Number",name:"phone",maxLength:10,regex:N.y.numeric,textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"w-full !mb-4",value:null===(a=u.values)||void 0===a?void 0:a.phone,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.phone,touched:u.touched.phone})})]}),(0,k.jsx)("h2",{className:"font-bold mb-4 text-lg",children:"Address Details"}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,k.jsx)(l.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(M,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Address Line 1",name:"addressLine1",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"w-full !mb-4",value:null===(r=u.values)||void 0===r?void 0:r.addressLine1,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.addressLine1,touched:u.touched.addressLine1})}),(0,k.jsx)(l.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(M,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Address Line 2",name:"addressLine2",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"w-full !mb-4",value:null===(d=u.values)||void 0===d?void 0:d.addressLine2,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.addressLine2,touched:u.touched.addressLine2})}),(0,k.jsx)(l.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(M,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice ",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Pincode",regex:N.y.numeric,name:"pinCode",maxLength:6,textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",value:null===(t=u.values)||void 0===t?void 0:t.pinCode,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.pinCode,touched:u.touched.pinCode})}),(0,k.jsx)(l.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(M,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice ",className:"h-12 rounded-md !bg-transparent",placeholder:"City",requiredStar:!0,labelToShow:"City",name:"city",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",value:null===(i=u.values)||void 0===i?void 0:i.city,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.city,touched:u.touched.city})}),(0,k.jsx)(l.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(M,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice ",className:"h-12 rounded-md !bg-transparent",placeholder:"State",requiredStar:!0,labelToShow:"State",name:"state",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"!mb-4",value:null===(n=u.values)||void 0===n?void 0:n.state,onChange:u.handleChange,handleBlur:u.handleBlur,error:u.errors.state,touched:u.touched.state})})]})]}),(0,k.jsxs)("div",{className:"flex flex-col md:!flex-row justify-end gap-4 mt-5",children:[(0,k.jsx)("button",{type:"button",onClick:()=>{h(!1),v(null),u.resetForm()},className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 shadow-md",children:"Cancel"}),(0,k.jsx)("button",{type:"button",className:"bg-skyn text-white px-4 py-2 rounded-md hover:bg-skyn-dark hover:opacity-80 shadow-md",onClick:()=>{if(u.isValid){if(null!==p){const e=(0,b.A)((0,b.A)({},o[p]),u.values),s={userId:E.userId,addressId:e.id,updatedAddress:{id:e.id,fullName:e.fullName,phone:e.phone,addressLine1:e.addressLine1,addressLine2:e.addressLine2,city:e.city,state:e.state,pinCode:e.pinCode,country:"India"}};R({reqBody:s})}else x();v(null),h(!1)}else I("Please enter all the required fields!","error")},children:null!==p?"Save Changes":"Add Address"})]})]})})})]})}var R=a(5335);const V=(0,l.lazy)((()=>Promise.resolve().then(a.bind(a,7855))));const Y=function(){const[e,s]=(0,l.useState)(!1),a=(0,j.k)(),d=(0,p.zy)(),n=(0,p.Zp)(),b=(0,f.wA)(),y=(0,f.d4)((e=>e.userProfile.userProfile)),[N,C]=(0,l.useState)([]),[A,L]=(0,l.useState)(!1),[I,q]=(0,l.useState)(""),[E,O]=(0,l.useState)(""),[F,W]=(0,l.useState)("Profile");(0,l.useEffect)((()=>{const e=decodeURIComponent(d.hash.replace("#",""));e&&W(e)}),[d.hash]),(0,l.useEffect)((()=>{q((null===y||void 0===y?void 0:y.name)||""),O((null===y||void 0===y?void 0:y.phone)||""),s((null===y||void 0===y?void 0:y.isAdmin)||!1)}),[y]);const z=(0,o.A)("(max-width: 1023px)"),$=[{id:"Profile",label:"My Profile",icon:(0,k.jsx)(h.x$1,{})}],M=[{id:"Profile",label:"My Profile",icon:(0,k.jsx)(h.x$1,{})},{id:"Address",label:"Address",icon:(0,k.jsx)(m.us2,{})},{id:"Appointments",label:"My Appointments",icon:(0,k.jsx)(x.DTo,{})},{id:"Orders",label:"My Orders",icon:(0,k.jsx)(h.AsH,{})}],{mutate:D,isFetching:Y}=(0,g.useMutation)(w.GA,{onSuccess(e){if("SUCCESS"===(null===e||void 0===e?void 0:e.status)){const s=null===e||void 0===e?void 0:e.data;C(s),b((0,S.od)({addresses:s}))}else a(null===e||void 0===e?void 0:e.message,"error")},onError(e){a(e.message,"error")}}),{mutate:Z,isLoading:G}=(0,g.useMutation)(w.vN,{onSuccess(e){var s;"SUCCESS"===(null===e||void 0===e?void 0:e.status)?(a(e.message,"success"),C([...N,null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.addresses.map((e=>({id:e.id||"",name:e.name||"",phone:e.phone||"",addressLine1:e.addressLine1||"",addressLine2:e.addressLine2||"",city:e.city||"",state:e.state||"",pinCode:e.pinCode||""})))]),L(!1),D({userId:y.userId})):a(e.message,"error")},onError(e){a(e.message,"error")}}),Q=(0,r.Wx)({enableReinitialize:!0,validateOnMount:!0,validateOnChange:!0,initialValues:t,validationSchema:i,onSubmit:(e,s)=>{let{resetForm:a}=s;Z({userId:y.userId,addressDetails:{fullName:null===e||void 0===e?void 0:e.fullName,phone:null===e||void 0===e?void 0:e.phone,addressLine1:null===e||void 0===e?void 0:e.addressLine1,addressLine2:null===e||void 0===e?void 0:e.addressLine2,city:null===e||void 0===e?void 0:e.city,state:null===e||void 0===e?void 0:e.state,pinCode:null===e||void 0===e?void 0:e.pinCode,country:"India"}}),a()}}),H=[(0,k.jsx)(v.N_,{to:"/",className:"text-skyn no-underline !font-poppins hover:opacity-80 text-lg",children:"Home"},"1"),(0,k.jsx)(c.A,{className:"!text-cello !font-poppins !text-lg",children:"Profile"},"2")];return(0,k.jsxs)(R.A,{children:[(0,k.jsx)(l.Suspense,{children:(0,k.jsx)(V,{open:G||Y})}),(0,k.jsxs)("div",{className:"mt-3 ".concat(z?"py-3":"py-4 mt-4"),children:[(0,k.jsx)("div",{className:"mt-5 ".concat(z?"px-3":"px-5"),children:(0,k.jsx)(u.A,{separator:">","aria-label":"breadcrumb",className:"mb-4 py-2",children:H})}),(0,k.jsxs)("div",{className:"flex flex-col md:!flex-row mt-3 md:!space-x-5 space-y-5 md:!space-y-0 ".concat(z?"px-3":"px-5"),children:[(0,k.jsxs)("div",{className:"flex flex-col shadow rounded font-poppins sm:w-full md:!w-3/5 lg:!w-1/3 xl:!1/5 md:!self-start",children:[(0,k.jsxs)("div",{className:"flex flex-col bg-skyn text-white font-bold p-4 rounded-t-lg",children:[(0,k.jsx)("p",{children:I}),(0,k.jsx)("p",{children:E})]}),(0,k.jsx)("div",{className:"flex flex-col p-4",children:(e?$:M).map((e=>(0,k.jsxs)("div",{className:"flex items-center space-x-2 w-full p-2 rounded cursor-pointer mb-2 ".concat(F===e.id?"!bg-slate-300":"hover:!bg-slate-300"),onClick:()=>{return s=e.id,W(s),void n("/user-profile",{replace:!0});var s},children:[e.icon,(0,k.jsx)("div",{className:"flex-1",children:e.label})]},e.id)))})]}),(0,k.jsxs)("div",{className:"shadow md:!p-5 rounded w-full",children:["Profile"===F&&(0,k.jsx)(l.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(P,{userProfile:y})}),"Address"===F&&(0,k.jsx)(l.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(T,{addresses:N,setAddresses:C,addressFormik:Q,isAdding:A,setIsAdding:L,handleAddressSubmit:()=>{Q.isValid?Q.handleSubmit():a("Please fill all the required fields","error")}})}),"Appointments"===F&&(0,k.jsx)(l.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(U,{userProfile:y})}),"Orders"===F&&(0,k.jsx)(l.Suspense,{fallback:(0,k.jsx)("div",{}),children:(0,k.jsx)(B,{orderHistory:[{id:1,product:"Cleanser",orderedOn:"11-12-2024"},{id:2,product:"Vitamin C Hydra Gel Creame",orderedOn:"12-12-2024"}]})})]})]})]})]})};const Z=function(){return(0,k.jsx)(Y,{})}},3245:(e,s,a)=>{a.d(s,{ND:()=>h,RO:()=>c,TC:()=>m,Ty:()=>u,a_:()=>o,bE:()=>i,bc:()=>x,dt:()=>n,od:()=>d,p:()=>r,y4:()=>t});var l=a(7112);const r=e=>({type:l.B6,payload:e}),d=e=>({type:l.kn,payload:e}),t=()=>({type:l.b6}),i=e=>({type:l.l$,payload:e}),n=e=>({type:l.dy,payload:e}),o=()=>({type:l.v3}),c=(e,s)=>({type:l.u0,payload:{productId:e,quantity:s}}),u=e=>({type:l.mP,payload:e}),m=e=>({type:l.VR,payload:e}),h=e=>({type:l.By,payload:e}),x=()=>({type:l.xG})},9073:(e,s,a)=>{a.d(s,{Uz:()=>t,W2:()=>d});var l=a(5831),r=a(1689);const d=async e=>{let{userId:s}=e;try{return await r.S.get("".concat(l.A.Booking.getUserBookings,"/").concat(s))}catch(a){throw console.log(a),new Error}},t=async e=>{let{reqBody:s}=e;try{return await r.S.post(l.A.Booking.createBooking,s)}catch(a){throw console.log(a),new Error}}},3190:(e,s,a)=>{a.d(s,{DG:()=>i,GA:()=>t,Z1:()=>o,vN:()=>d,xu:()=>n});var l=a(5831),r=a(1689);const d=async e=>{let{userId:s,addressDetails:a}=e;const d={userId:s,address:a};try{return await r.P.post("".concat(l.A.Users.addAddress),d)}catch(n){var t,i;throw new Error(null===n||void 0===n||null===(t=n.data)||void 0===t||null===(i=t.error)||void 0===i?void 0:i.message)}},t=async e=>{let{userId:s}=e;try{return await r.P.get("".concat(l.A.Users.getUserAddress,"/").concat(s))}catch(t){var a,d;throw new Error(null===t||void 0===t||null===(a=t.data)||void 0===a||null===(d=a.error)||void 0===d?void 0:d.message)}},i=async e=>{let{reqBody:s}=e;try{return await r.P.put(l.A.Users.updateUserDetails,s)}catch(t){var a,d;throw new Error(null===t||void 0===t||null===(a=t.data)||void 0===a||null===(d=a.error)||void 0===d?void 0:d.message)}},n=async e=>{let{reqBody:s}=e;try{return await r.P.put(l.A.Users.updateUserAddress,s)}catch(t){var a,d;throw new Error(null===t||void 0===t||null===(a=t.data)||void 0===a||null===(d=a.error)||void 0===d?void 0:d.message)}},o=async e=>{let{userId:s,addressId:a}=e;try{return await r.P.delete("".concat(l.A.Users.deleteUserAddress,"?userId=").concat(s,"&addressId=").concat(a))}catch(i){var d,t;throw new Error(null===i||void 0===i||null===(d=i.data)||void 0===d||null===(t=d.error)||void 0===t?void 0:t.message)}}},3464:(e,s,a)=>{a.d(s,{A:()=>r});a(2483);var l=a(6723);const r=e=>(0,l.jsx)("div",{className:"my-6 ".concat(e),children:(0,l.jsx)("hr",{style:{borderWidth:"0 0 4px",borderImage:"linear-gradient(90deg, rgba(238, 101, 3, 0), rgba(238, 101, 3, 1) 50%, rgba(238, 101, 3, 0) 100%) 0 0 100%",borderStyle:"solid",width:"100%"}})})},1689:(e,s,a)=>{a.d(s,{P:()=>t,S:()=>i});var l=a(2555),r=a(4686),d=a(5831);const t=r.A.create({baseURL:d.A.baseURL}),i=r.A.create({baseURL:d.A.baseURL});t.interceptors.request.use((e=>(e.headers=(0,l.A)({},e.headers),e)),(e=>Promise.reject(e))),t.interceptors.response.use((e=>e.data),(e=>{var s;Promise.reject(null===e||void 0===e||null===(s=e.response)||void 0===s?void 0:s.data)}));const n=async()=>{const e=sessionStorage.getItem("token")||"";try{return e||(sessionStorage.clear(),window.location.href="".concat(window.location.origin,"/login"),null)}catch(s){return sessionStorage.clear(),window.location.href="".concat(window.location.origin,"/login"),null}};i.interceptors.request.use((async e=>{const s=await n();return e.headers=(0,l.A)({Authorization:"Bearer ".concat(s)},e.headers),e}),(e=>Promise.reject(e))),i.interceptors.response.use((e=>e.data),(e=>{var s;Promise.reject(null===e||void 0===e||null===(s=e.response)||void 0===s?void 0:s.data)}))}}]);
//# sourceMappingURL=2772.437ee229.chunk.js.map