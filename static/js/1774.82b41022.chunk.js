"use strict";(self.webpackChunkpure_skyn=self.webpackChunkpure_skyn||[]).push([[1774],{1774:(e,t,s)=>{s.r(t),s.d(t,{default:()=>M});var a=s(5397),r=s(5470),o=s(592),n=s(7760),c=s(7109),i=s(117),l=s(9206),d=s(2483),m=s(7340),x=s(9891),u=s(7757),p=s(1481),g=s(3877),h=s(3912),f=s(2494),v=s(2555),b=s(448),k=s(4315),N=(s(4686),s(3786)),S=s(2751),j=s(6723);const w=function(e){let{packageDetails:t,isMultiplePackage:s,handlePackageCardClick:a}=e;return(0,j.jsx)("div",{className:"grid ".concat(s?"md:!grid-cols-3":"place-items-center"," gap-4 mt-5 place-items-center"),children:t.map((e=>(0,j.jsxs)("div",{className:"relative overflow-hidden rounded-md shadow-lg cursor-pointer hover:!border hover:!border-black duration-500 w-4/5 md:!w-52 lg:!w-72 xl:!w-96 place-items-center \n            ".concat(e.isSelected?"!border !border-emerald-900":""),onClick:()=>a(e.featureName,e.imgSrc),children:[e.isSelected&&(0,j.jsx)("div",{className:"absolute top-2 right-2",children:(0,j.jsx)(S.cxC,{fill:"green",size:"1.5rem"})}),(0,j.jsx)("img",{src:e.imgSrc,className:"h-24 md:!h-36 object-cover",alt:e.packageName}),(0,j.jsx)("div",{className:"w-full p-2 backdrop-blur-sm text-center",children:(0,j.jsx)("span",{className:"font-poppins !text-coffee font-bold lg:text-lg text-center",children:e.packageName})})]},e.id)))})};var y=s(7547),C=s(3378),I=s(7097);const P=(0,d.lazy)((()=>Promise.resolve().then(s.bind(s,7855))));const A=function(e){let{heading:t,setTreatmentPackage:s,setCurrentStep:a,servicesCart:r}=e;const o=(0,u.wA)(),[n,c]=(0,d.useState)([]),[i,l]=(0,d.useState)(!1),[x,p]=(0,d.useState)(!1),[g,f]=(0,d.useState)([]),[S,A]=(0,d.useState)(null),[F,O]=(0,d.useState)(""),[M,B]=(0,d.useState)(""),[T,L]=(0,d.useState)(""),[E,H]=(0,d.useState)(""),[z,K]=(0,d.useState)(""),[R,V]=(0,d.useState)(""),Y=(0,C.k)(),D=e=>{t.includes("Women")?f(N.gK.LHRWomen[e]):t.includes("Men")?f(N.gK.LHRMen[e]):t.includes("Derma")?f(N.gK.dermafrac[e]):t.includes("Skin")?f(N.gK.skinTightening[e]):t.includes("Oxygeneo")?f(N.gK.oxygeneo[e]):t.includes("Oxy Hydra")&&f(N.gK.oxyhydraFacial[e])},{mutate:W,isLoading:_}=(0,k.useMutation)(y.Z,{onSuccess(e){var t;"SUCCESS"===(null===e||void 0===e?void 0:e.status)&&(p(!1),f([]),a(2),Y(e.message,"success"),sessionStorage.setItem("availableTimeSlots",JSON.stringify(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.availableTimeSlots)))},onError(e){Y(e.message,"error")}}),J=()=>{p(!1),f([]),a(2)};return(0,d.useEffect)((()=>{const e={"Laser Hair Removal Women":{package:N.mb,isMultiple:!0},"Laser Hair Removal Men":{package:N.kz,isMultiple:!0},"Oxy Hydra Facial":{package:N.hO,isMultiple:!1},"RF Skin Tightening":{package:N.H6,isMultiple:!1},"Dermafrac Infusion Facial":{package:N.uY,isMultiple:!1},Oxygeneo:{package:N.Pc,isMultiple:!1}}[t];if(e){const t=e.package.map((e=>(0,v.A)((0,v.A)({},e),{},{isSelected:r.some((t=>t.featureName===e.featureName))})));c(t),l(e.isMultiple)}}),[t,r]),(0,j.jsxs)("div",{className:"py-5",children:[(0,j.jsx)(d.Suspense,{fallback:(0,j.jsx)("div",{}),children:(0,j.jsx)(P,{open:_})}),(0,j.jsx)("p",{className:"font-bold text-4xl text-coffee text-center",children:t}),(0,j.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,j.jsx)("button",{className:"p-3 rounded bg-coffee text-white font-bold hover:!opacity-80 hover:!shadow-lg",onClick:J,children:"View Cart"}),(0,j.jsx)("button",{className:"p-3 rounded bg-coffee text-white font-bold hover:!opacity-80 hover:!shadow-lg",onClick:()=>{o((0,I.bc)())},children:"Empty Cart"})]}),(0,j.jsxs)(m.P.div,{variants:(0,h.A)("left",.1),initial:"hidden",whileInView:"show",viewport:{once:!0},children:[t.includes("Laser")&&(0,j.jsx)("div",{className:"text-sm text-bitterSweet text-center",children:(0,j.jsxs)("span",{children:[(0,j.jsx)("strong",{className:"!text-coal",children:"Note: "}),"Please select either Full Body packages or Other Packages. You can't club Full Body Package with Other Packages."]})}),(0,j.jsx)(w,{packageDetails:n,isMultiplePackage:i,handlePackageCardClick:(e,t)=>{r.map((t=>{t.featureName===e&&A({packageName:t.packageName,price:t.packagePrice})})),s(S),sessionStorage.setItem("selectedFeatureName",e),p(!0),D(e),V(t)}})]}),x&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-40"}),(0,j.jsxs)("div",{className:"fixed !overflow-y-auto max-h-screen top-0 font-poppins right-0 h-full w-80 md:!w-3/5 lg:!w-1/2 xl:!w-1/3 bg-[#FFFF] z-50 transform ".concat(x?"translate-x-0":"-translate-x-full"),children:[(0,j.jsx)("button",{className:"absolute top-4 mr-5 right-4 text-2xl text-coffee",onClick:()=>{A(null),p(!1),f([])},children:(0,j.jsx)(b.cW1,{size:"2rem"})}),(0,j.jsxs)("div",{className:"flex flex-col gap-3 p-4 mt-5",children:[(0,j.jsxs)("p",{className:"text-lg md:!text-2xl font-extrabold uppercase text-cello text-center",children:[t," Package"]}),(0,j.jsx)("hr",{className:"!p-0"}),(0,j.jsx)("p",{className:"text-lg md:!text-xl font-bold uppercase text-center",children:"Select Your Package"}),g.map(((e,t)=>(0,j.jsxs)("div",{className:"flex flex-col lg:!flex-row md:justify-between gap-3 p-4 rounded cursor-pointer border-2\n                  ".concat((null===S||void 0===S?void 0:S.packageName)===e.name?"!border-black":"hover:!shadow-lg"),onClick:()=>((e,t,s,a,r)=>{A({packageName:e,price:t}),L(e),H(t),K(r),O(s),B(a)})(e.name,e.price,e.serviceId,e.subServiceId,e.featureName),children:[(0,j.jsx)("span",{className:"font-extrabold font-xl text-coffee",children:e.name}),(0,j.jsxs)("span",{className:"font-bold font-xl text-Green",children:["\u20b9",e.price]})]},t))),(0,j.jsx)("button",{className:"no-underline p-3 rounded bg-coffee text-white text-center font-bold mt-5 hover:shadow-xl disabled:cursor-not-allowed disabled:opacity-80",onClick:()=>{const e={treatmentName:sessionStorage.getItem("treatmentName"),packageName:T,packagePrice:E,serviceId:F,subServiceId:M,featureName:z,selectedPackageImg:R};sessionStorage.getItem("selectedFeatureName")!==e.featureName?Y("Please select the service option","error"):(Y("Service added to the cart","success"),o((0,I.TC)(e)),p(!1))},children:"Add To Cart"}),(0,j.jsx)("button",{className:"no-underline p-3 rounded bg-coffee text-white text-center font-bold hover:shadow-xl disabled:cursor-not-allowed disabled:opacity-80",onClick:J,children:"View Cart"}),(0,j.jsx)("button",{className:"no-underline p-3 rounded bg-secondary text-white text-center font-bold hover:shadow-xl disabled:cursor-not-allowed disabled:opacity-80",onClick:()=>{const e=sessionStorage.getItem("selectedFeatureName"),t=r.find((t=>t.featureName===e));t?(o((0,I.ND)(t.subServiceId)),Y("Service removed from the cart","success"),p(!1),A(null)):Y("Service not available in the cart","error")},children:"Remove From Cart"})]})]})]})]})};var F=s(7891);const O=function(){const e=(0,a.A)("(max-width: 1023px)"),t=(0,a.A)("(max-width: 767px)"),[s,v]=(0,d.useState)(0),[b,k]=(0,d.useState)("Choose Options"),[S,w]=(0,d.useState)(""),[y,C]=(0,d.useState)(!1),I=(0,u.d4)((e=>e.servicesCart.services));(0,d.useEffect)((()=>{const e=sessionStorage.getItem("token");C(!!e)}),[sessionStorage.getItem("token")]),(0,d.useEffect)((()=>{const e=JSON.parse(sessionStorage.getItem("currentBookStep")),t=sessionStorage.getItem("treatmentName");sessionStorage.getItem("currentBookStep")&&(v(e),k(t||"Choose Your Services"))}),[sessionStorage.getItem("currentStep")]);const P=[(0,j.jsx)(x.N_,{to:"/",className:"text-skyn no-underline !font-poppins hover:opacity-80 text-lg",children:"Home"},"1"),(0,j.jsx)(r.A,{className:"!text-cello !font-poppins !text-lg",children:"Book"},"2")];return(0,j.jsx)(m.P.div,{variants:(0,h.A)("left",.1),initial:"hidden",whileInView:"show",viewport:{once:!0},className:"mt-3 ".concat(e?"py-3":"py-4 mt-4"),children:(0,j.jsxs)("div",{className:"mt-5 ".concat(t?"px-4":"px-5"),children:[(0,j.jsx)(o.A,{separator:">","aria-label":"breadcrumb",className:"mb-4 px-1",children:P}),(0,j.jsx)(m.P.div,{variants:(0,h.A)("up",.1),initial:"hidden",whileInView:"show",viewport:{once:!0},children:(0,j.jsx)(g.A,{headerText:"Exciting Offers",serviceName:"On All Our Services",subText:"Pay 50% after the service!!"})}),(0,j.jsx)("div",{className:"mt-5",children:(0,j.jsx)(n.A,{sx:{width:"100%"},children:(0,j.jsx)(c.A,{activeStep:s,alternativeLabel:!0,children:["Choose Your Treatment","Choose Your Package","Book Now"].map(((e,t)=>(0,j.jsx)(i.A,{children:(0,j.jsx)(l.A,{onClick:()=>((e,t)=>{e===t||t>e||(1===e?(v(0),sessionStorage.removeItem("treatmentName"),sessionStorage.setItem("currentBookStep",0),k("Choose Option")):2===e&&(0===t?(v(0),sessionStorage.removeItem("treatmentName"),sessionStorage.setItem("currentBookStep",0),k("Choose Option")):(v(1),sessionStorage.setItem("currentBookStep",1))))})(s,t),sx:{cursor:t<=s?"pointer":"default",color:t<=s?"primary.main":"text.secondary"},children:e})},e)))})})}),0===s&&(0,j.jsx)(m.P.div,{variants:(0,h.A)("up",.2),initial:"hidden",whileInView:"show",viewport:{once:!0},className:"grid md:grid-cols-2 xl:!grid-cols-3 gap-5 py-5 place-items-center",children:N.Jr.map((e=>(0,j.jsxs)("div",{className:"cursor-pointer hover:scale-105 duration-500 w-full lg:!w-96",onClick:()=>{return t=e.treatmentName,v(s+1),k(t),void sessionStorage.setItem("treatmentName",t);var t},children:[(0,j.jsx)("img",{src:e.imgSrc,className:"w-full h-full object-cover shadow-lg rounded-t-md",alt:e.treatmentName}),(0,j.jsx)("div",{className:"bottom-0 left-0 w-full p-3 md:!p-4 bg-coffee bg-opacity-60 backdrop-blur-md rounded-b-lg text-center",children:(0,j.jsx)("span",{className:"font-poppins text-white font-bold md:!text-xl",children:e.treatmentName})})]},e.id)))}),1===s&&(0,j.jsx)(A,{heading:b,setTreatmentPackage:w,treatmentPackage:S,setCurrentStep:v,servicesCart:I}),2===s&&(0,j.jsx)(j.Fragment,{children:I.length>0?(0,j.jsx)(f.A,{isLoggedIn:y}):(0,j.jsxs)("div",{className:"flex flex-col items-center justify-center px-2 md:!px-5 pb-5",children:[(0,j.jsx)("img",{src:F.A.images.Common.emptyCart,className:"h-52 md:!h-96",alt:"Empty Cart"}),(0,j.jsx)("p",{className:"text-xl font-bold text-center text-coal",children:"No Services Added. Let's add some! \u26a1"}),(0,j.jsxs)("button",{className:"flex gap-2 items-center justify-center rounded-3xl font-medium px-4 active:!bg-white active:!text-skyn bg-skyn text-white hover:!opacity-80 active:!border-none transition duration-500 py-2 mt-4",onClick:()=>{v(0),sessionStorage.removeItem("treatmentName"),sessionStorage.setItem("currentBookStep",0)},children:[(0,j.jsx)(p._xK,{size:"1.2rem"}),"Book Services"]})]})})]})})};const M=function(){return(0,j.jsx)("div",{children:(0,j.jsx)(O,{})})}}}]);
//# sourceMappingURL=1774.82b41022.chunk.js.map