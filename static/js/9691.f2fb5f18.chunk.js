"use strict";(self.webpackChunkpure_skyn=self.webpackChunkpure_skyn||[]).push([[9691],{5399:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(5481),i=s(7340),n=s(7891),l=s(6723);const r=function(e){let{title:t,handleCancel:s,handlePrimaryButtonClick:r,confirmButtonText:o,confirmButtonColor:c="bg-red-600 hover:bg-red-700",imageSrc:d=n.A.images.Common.removeItem}=e;return(0,l.jsx)(a.N,{children:(0,l.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"bg-slate-900/20 backdrop-blur p-4 fixed inset-0 z-50 md:grid place-items-center place-content-center overflow-scroll",children:(0,l.jsxs)(i.P.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.3},className:"bg-white p-8 rounded-lg w-full max-w-lg",children:[(0,l.jsx)("div",{className:"flex justify-center mb-4",children:(0,l.jsx)("img",{src:d,alt:"Confirmation Icon",className:"h-16"})}),(0,l.jsx)("h3",{className:"font-bold text-lg mb-4 text-center text-coal",children:t}),(0,l.jsxs)("div",{className:"flex flex-col md:!flex-row justify-center gap-4 mt-6",children:[(0,l.jsx)("button",{onClick:s,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),(0,l.jsx)("button",{onClick:r,className:"text-white px-4 py-2 rounded-md ".concat(c," "),children:o})]})]})})})}},5831:(e,t,s)=>{s.d(t,{A:()=>a});const a={baseURL:"https://skynapi.duckdns.org/api/v1",Admin:{getAllUsers:"users/all",availableTechnicians:"admin/available-technicians"},Auth:{login:"/auth/login",loginAdmin:"/admin/login",registerUser:"/admin/register",requestChangePassword:"/auth/request-password-change?email=",changePassword:"/auth/change-password"},Booking:{getCartDetails:"/cart/",reqBooking:"/booking/request",createBooking:"/booking/create",getUserBookings:"/booking"},Cart:{saveServiceCart:"/cart/add-update",getServiceCart:"/cart/"},Products:{getAllProducts:"/products/all",getProductsByCategory:"/products/category"},Query:{newQuery:"/query/new",updateQueryStatus:"/query/",getAllQuery:"/query/all",getQueryWithFilter:"/query/status/"},Services:{getAllServices:"/services/all",createService:"/services/create"},Users:{addAddress:"/auth/user/add-address",getUserAddress:"/users/address",updateUserDetails:"/auth/update-user",updateUserAddress:"/auth/update-address",deleteUserAddress:"/auth/user/delete-address"}}},3245:(e,t,s)=>{s.d(t,{ND:()=>x,RO:()=>d,TC:()=>u,Ty:()=>m,a_:()=>c,bE:()=>r,bc:()=>h,dt:()=>o,od:()=>n,p:()=>i,y4:()=>l});var a=s(7112);const i=e=>({type:a.B6,payload:e}),n=e=>({type:a.kn,payload:e}),l=()=>({type:a.b6}),r=e=>({type:a.l$,payload:e}),o=e=>({type:a.dy,payload:e}),c=()=>({type:a.v3}),d=(e,t)=>({type:a.u0,payload:{productId:e,quantity:t}}),m=e=>({type:a.mP,payload:e}),u=e=>({type:a.VR,payload:e}),x=e=>({type:a.By,payload:e}),h=()=>({type:a.xG})},6399:(e,t,s)=>{s.d(t,{P:()=>l,a:()=>n});var a=s(5831),i=s(1689);const n=async e=>{let{userId:t}=e;try{return await i.P.get("".concat(a.A.Cart.getServiceCart).concat(t))}catch(l){var s,n;throw new Error(null===l||void 0===l||null===(s=l.data)||void 0===s||null===(n=s.error)||void 0===n?void 0:n.message)}},l=async e=>{let{reqBody:t}=e;try{return await i.P.post(a.A.Cart.saveServiceCart,t)}catch(s){throw console.log(s),new Error}}},9691:(e,t,s)=>{s.r(t),s.d(t,{default:()=>z});var a=s(2483),i=s(5481),n=s(3376),l=s(9891),r=s(2751),o=s(7757),c=s(5468),d=s(1901),m=s(5397),u=s(4315),x=s(7891),h=s(6723);const g=e=>{let{children:t,href:s,isActive:i,classes:n}=e;const[r,o]=(0,a.useState)(!1);return(0,h.jsx)("div",{onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),className:"relative w-fit h-fit navbar-links ".concat(n),children:(0,h.jsxs)(l.N_,{to:s,className:"relative text-white no-underline",children:[t,(0,h.jsx)("span",{style:{transform:r||i?"scaleX(1)":"scaleX(0)"},className:"absolute -bottom-2 left-0 right-0 h-1 origin-left scale-x-0 rounded-full bg-skyn transition-transform duration-300 ease-out"})]})})};var p=s(7340);const v=e=>{let{header:t,items:s,FlyoutContent:n,href:r="#"}=e;const[o,c]=(0,a.useState)(!1);return(0,h.jsxs)("div",{onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!o),className:"relative w-fit h-fit",children:[(0,h.jsxs)(l.N_,{to:r,className:"relative text-white no-underline",children:[(0,h.jsxs)("div",{className:"flex items-center",children:[t,!o&&(0,h.jsx)(d.gpS,{className:"text-white text-2xl cursor-pointer active:outline-none"}),o&&(0,h.jsx)(d.FIv,{className:"text-white text-2xl cursor-pointer active:outline-none"})]}),(0,h.jsx)("span",{style:{transform:o?"scaleX(1)":"scaleX(0)"},className:"absolute -bottom-2 -left-2 -right-2 h-1 origin-left scale-x-0 rounded-full bg-skyn transition-transform duration-300 ease-out"})]}),(0,h.jsx)(i.N,{children:o&&(0,h.jsxs)(p.P.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:15},style:{translateX:"-50%"},transition:{duration:.3,ease:"easeOut"},className:"absolute left-1/2 top-12 bg-white text-black",children:[(0,h.jsx)("div",{className:"absolute -top-6 left-0 right-0 h-6 bg-transparent"}),(0,h.jsx)("div",{className:"absolute left-1/2 top-0 h-4 w-4 -translate-x-1/2 -translate-y-1/2 rotate-45 bg-white"}),(0,h.jsx)(n,{items:s})]})})]})},b=(e,t)=>{"Enter"!==e.key&&" "!==e.key||t()},f=e=>{let{items:t,handleKeyPress:s}=e;return(0,h.jsx)("div",{className:"w-64 bg-white p-6 shadow-xl",children:t.map((e=>{let{id:t,label:a,action:i,icon:n}=e;return(0,h.jsxs)("div",{className:"flex items-center pt-2 cursor-pointer hover:bg-slate-300 p-2 rounded !font-medium",role:"menuitem",tabIndex:0,onClick:i,onKeyDown:e=>s(e,i),children:[n&&(0,h.jsx)("img",{src:n,alt:a,className:"mr-2"}),(0,h.jsx)("span",{className:"text-base text-kashmirBlue",children:a})]},t)}))})},y=(0,a.lazy)((()=>Promise.all([s.e(9470),s.e(9779),s.e(9095),s.e(2e3),s.e(5726)]).then(s.bind(s,5726)))),k=e=>{let{isActive:t,userName:s,serviceItem:o,profileItem:c,totalServicesItems:m,totalProductsItems:u,isAdmin:p,isProductsPage:k,isLoggedIn:j,isTablet:N}=e;const w=(0,n.Zp)(),[C,S]=(0,a.useState)(!1),A=()=>{S(!C)};return(0,h.jsxs)("div",{className:"".concat(N?"hidden":"flex justify-between"," items-center px-8"),children:[(0,h.jsx)(l.N_,{to:"/",className:"no-underline font-bold",children:(0,h.jsx)("img",{src:x.A.images.Common.logoNavbar,alt:"branding",style:{width:"10rem"}})}),(0,h.jsxs)("div",{className:"flex items-center p-2 rounded-2xl",style:{boxShadow:"inset 0 4px 6px rgba(0, 0, 0, 0.1), inset 0 2px 4px rgba(0, 0, 0, 0.06)"},children:[p&&(0,h.jsx)(g,{href:"/",isActive:t("/"),className:"mr-2",children:"Home"}),!p&&(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)(g,{href:"/",isActive:t("/"),className:"mr-2",children:"Home"}),(0,h.jsx)("div",{className:"flex items-center navbar-links p-1 xl:!px-4",children:(0,h.jsx)(v,{header:"Services",items:o,FlyoutContent:e=>{let{items:t}=e;return(0,h.jsx)(f,{className:"mx-4",items:t,handleKeyPress:b})}})}),(0,h.jsx)(g,{href:"/packages",isActive:t("/packages"),children:"Packages"}),(0,h.jsx)(g,{href:"/book-now",isActive:t("/book-now"),children:"Book"}),(0,h.jsx)(g,{href:"/products",isActive:t("/products"),children:"Shop"})]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[!p&&(k?(0,h.jsxs)("button",{onClick:A,className:"hover:opacity-80 text-white relative",children:[(0,h.jsx)(r.AI$,{size:"2rem"}),u>0&&(0,h.jsx)("span",{className:"absolute left-1/2 bottom-50 text-xs bg-skyn text-white rounded-full px-2 py-1",children:u})]}):(0,h.jsxs)("button",{onClick:()=>{sessionStorage.removeItem("currentBookStep"),w("/book-now/services-cart")},className:"hover:opacity-80 text-white relative",children:[(0,h.jsx)(d.gyu,{size:"2rem"}),m>0&&(0,h.jsx)("span",{className:"absolute bottom-50 text-xs bg-skyn text-white rounded-full px-2 py-1",children:m})]})),j&&(0,h.jsx)("div",{className:"flex navbar-links",children:(0,h.jsx)(v,{header:"Welcome ".concat(s),items:c,FlyoutContent:e=>{let{items:t}=e;return(0,h.jsx)(f,{items:t,handleKeyPress:b})}})}),!j&&(0,h.jsx)(g,{href:"/login",children:"Sign-In"})]}),C&&(0,h.jsx)(i.N,{children:(0,h.jsx)(y,{openCart:C,handleOpenCart:A})})]})};var j=s(448);const N=[{id:1,label:"Laser Hair Removal Women",link:"/services/laser-hair-removal/women"},{id:2,label:"Laser Hair Removal Men",link:"/services/laser-hair-removal/men"},{id:3,label:"Oxy Hydra Facial",link:"/services/skin/medi-facial/oxy-hydra-facial"},{id:4,label:"RF Skin Tightening",link:"/services/skin/medi-facial/skin-tightening"},{id:5,label:"Derma Infusion Facial",link:"/services/skin/medi-facial/derma-infusion-facial"},{id:6,label:"Oxygeneo Facial",link:"/services/skin/medi-facial/oxygeneo"}],w=e=>{let{toggleMenu:t,userName:s}=e;return(0,h.jsxs)("header",{className:"flex place-content-center items-center px-4 border-b border-gray-300",children:[(0,h.jsx)("button",{className:"absolute top-2 right-4 text-2xl text-black",onClick:t,children:(0,h.jsx)(j.cW1,{size:"2rem"})}),(0,h.jsxs)("div",{className:"flex flex-col p-4",children:[(0,h.jsx)(l.N_,{to:"/",className:"no-underline font-bold",onClick:t,children:(0,h.jsx)("img",{src:x.A.images.Common.newLogoWhite,alt:"branding",className:"h-14 md:!h-16"})}),s&&(0,h.jsxs)("p",{className:"text-coal text-xl font-bold text-center mt-2",children:["Welcome, ",s]})]})]})},C=e=>{let{onClick:t,name:s,link:a,isActive:i,hasSubNav:n,isList:l}=e;return l?(0,h.jsxs)("li",{onClick:()=>t(s,a,n),className:"list-none flex items-center gap-2 cursor-pointer w-full px-6 py-3 font-bold text-coal hover:bg-gray-200 text-left transition ".concat(i?"!bg-skyn hover:!bg-skyn !text-white":""),children:["\u25ba ",s,n&&(0,h.jsx)("span",{className:"float-right",children:i?"\u25b2":"\u25bc"})]}):(0,h.jsxs)("button",{onClick:()=>t(s,a,n),className:"w-full px-6 py-3 font-bold text-coal hover:bg-gray-200 text-left transition ".concat(i?"!bg-skyn hover:!bg-skyn !text-white":""),children:[s,n&&(0,h.jsx)("span",{className:"float-right",children:i?"\u25b2":"\u25bc"})]})},S=e=>{let{item:t,activeItem:s,handleClick:a}=e;return(0,h.jsx)("div",{className:"overflow-hidden transition-all ".concat(s===t.name?"overflow-y-auto":"max-h-0 overflow-hidden"),children:(0,h.jsx)("div",{className:"py-1",children:t.items.map((e=>(0,h.jsx)(C,{onClick:a,name:e.label,link:e.link,isActive:s===e.label,isList:!0},e.label)))})})},A=e=>{let{userName:t,toggleMenu:s,menuOpen:i,isAdmin:l,isLoggedIn:r,handleLogout:o,isTablet:c}=e;const[d,m]=(0,a.useState)(""),u=(0,n.Zp)(),x=(e,t,a)=>{m(d===e?"":e),u(t),!a&&s()},g=[{name:"Home",link:"/"},...l?[]:[{name:"Services",items:N},{name:"Book",link:"/book-now"},{name:"Shop",link:"/products"},{name:"Products Cart",link:"/products/product-cart"},{name:"Packages",link:"/packages"},{name:"Services Cart",link:"#",onClick:()=>{sessionStorage.removeItem("currentBookStep"),u("/book-now/services-cart"),s()}}],...r?[{name:"Profile",link:"/user-profile"},{name:"Logout",link:"#",onClick:o}]:[{name:"Sign-In",link:"/login"}]];return(0,h.jsxs)(h.Fragment,{children:[i&&(0,h.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-40"}),(0,h.jsxs)("aside",{className:"fixed font-poppins top-0 left-0 w-80 md:!w-1/2 bg-[#FFFF] z-50 transform h-full ".concat(i?"translate-x-0":"-translate-x-full"," ").concat(c?"block":"hidden"," transition-all duration-500 ease-in-out overflow-scroll"),children:[(0,h.jsx)(w,{toggleMenu:s,userName:t}),(0,h.jsx)("div",{className:"py-2",children:g.map((e=>(0,h.jsxs)("div",{children:[e.onClick?(0,h.jsx)("button",{onClick:e.onClick,className:"w-full px-6 py-3 font-bold text-coal hover:!bg-gray-200 text-left transition",children:e.name}):(0,h.jsx)(C,{onClick:x,name:e.name,link:e.link,isActive:d===e.name,hasSubNav:!!e.items}),e.items&&(0,h.jsx)(S,{item:e,activeItem:d,handleClick:x})]},e.name)))})]})]})};var P=s(3378),I=s(3245),L=s(6399),B=s(5399);const F=(0,a.lazy)((()=>Promise.all([s.e(9470),s.e(9779),s.e(9095),s.e(2e3),s.e(5726)]).then(s.bind(s,5726)))),R=(0,a.lazy)((()=>Promise.resolve().then(s.bind(s,7855))));const z=function(){const e=(0,o.wA)(),t=(0,n.zy)(),s=(0,n.Zp)(),g=(0,P.k)(),p=(0,m.A)("(max-width: 935px)"),[v,b]=(0,a.useState)(!1),[f,y]=(0,a.useState)(!0),[j,N]=(0,a.useState)(!1),[w,C]=(0,a.useState)(""),[S,z]=(0,a.useState)(!1),[U,q]=(0,a.useState)(!1),[O,E]=(0,a.useState)(!1),M=()=>b(!v),T=(0,o.d4)((e=>e.cart.items)),H=(0,o.d4)((e=>e.servicesCart.services)),W=(0,o.d4)((e=>e.userProfile.userProfile)),_=T.length,D=H.length;(0,a.useEffect)((()=>{if(sessionStorage.getItem("token")){var e;y(!0);const t=null===W||void 0===W||null===(e=W.name)||void 0===e?void 0:e.split(" ")[0];C(t)}else y(!1),C("")}),[sessionStorage.getItem("token")]),(0,a.useEffect)((()=>{q((null===W||void 0===W?void 0:W.isAdmin)||!1)}),[W]),(0,a.useEffect)((()=>{z(t.pathname.includes("products"))}),[t.pathname]);const{mutate:Q,isLoading:X}=(0,u.useMutation)(L.P,{onSuccess:t=>{"ERROR"!==(null===t||void 0===t?void 0:t.status)?(g("Logged-out successfully!","success"),e((0,I.bc)())):g("Something went wrong","error")},onError:()=>{g("Something went wrong","error")}}),K=()=>{N(!0),M()},Z=()=>{E(!O)},$=[{id:1,label:"User Profile",icon:x.A.images.NavBar.userProfile,action:()=>s("/user-profile")},{id:2,label:"Logout",icon:x.A.images.NavBar.logout,action:K}],G=[{id:1,label:"Laser Hair Removal Women",action:()=>s("/services/laser-hair-removal/women")},{id:2,label:"Laser Hair Removal Men",action:()=>s("/services/laser-hair-removal/men")},{id:3,label:"Oxy Hydra Facial",action:()=>s("/services/skin/medi-facial/oxy-hydra-facial")},{id:4,label:"RF Skin Tightening",action:()=>s("/services/skin/medi-facial/skin-tightening")},{id:5,label:"Derma Infusion Facial",action:()=>s("/services/skin/medi-facial/derma-infusion-facial")},{id:6,label:"Oxygeneo Facial",action:()=>s("/services/skin/medi-facial/oxygeneo")}];return(0,h.jsxs)("div",{className:"flex flex-col bg-coal !text-white p-3 fixed top-0 left-0 w-full z-50",children:[(0,h.jsx)(a.Suspense,{fallback:(0,h.jsx)("div",{children:"Logging Out.."}),children:(0,h.jsx)(R,{open:X})}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("nav",{className:"flex items-center px-2 md:!px-8 ".concat("justify-between"),children:[(0,h.jsx)("button",{className:"".concat(p?"block":"hidden"," text-white focus:outline-none"),onClick:M,children:(0,h.jsx)(c.Jtp,{size:"2rem"})}),(0,h.jsx)("div",{className:"flex-1 flex justify-center ".concat(p?"block":"hidden"),children:(0,h.jsx)(l.N_,{to:"/",className:"no-underline font-bold",children:(0,h.jsx)("img",{src:x.A.images.Common.logoNavbar,alt:"branding",className:"w-32 mx-auto"})})}),!U&&(S?(0,h.jsxs)("button",{onClick:Z,className:"relative ".concat(p?"block":"hidden"),children:[(0,h.jsx)(r.AI$,{size:"1.8rem"}),_>0&&(0,h.jsx)("span",{className:"absolute left-1/2 bottom-50 text-xs bg-skyn text-white rounded-full px-2 py-1",children:_})]}):(0,h.jsxs)("button",{onClick:()=>{sessionStorage.removeItem("currentBookStep"),s("/book-now/services-cart")},className:"relative ".concat(p?"block":"hidden"),children:[(0,h.jsx)(d.gyu,{size:"2rem"}),D>0&&(0,h.jsx)("span",{className:"absolute top-0 text-sm bg-skyn text-white rounded-full px-2",children:D})]}))]}),p?(0,h.jsx)(A,{userName:w,toggleMenu:()=>b(!v),menuOpen:v,isAdmin:U,isLoggedIn:f,handleLogout:K,isTablet:p}):(0,h.jsx)(k,{isActive:e=>t.pathname===e,userName:w,serviceItem:G,profileItem:$,totalServicesItems:D,totalProductsItems:_,isAdmin:U,isProductsPage:S,isLoggedIn:f,isTablet:p})]}),j&&(0,h.jsx)(B.A,{title:"Are you sure you want to logout?",handleCancel:()=>{N(!1)},handlePrimaryButtonClick:()=>{const t={userId:W.userId,packageDetails:H};sessionStorage.clear(),Q({reqBody:t}),y(!1),N(!1),e((0,I.y4)()),s("/")},confirmButtonText:"Logout",imageSrc:x.A.images.Common.Warning}),O&&(0,h.jsx)(i.N,{children:(0,h.jsx)(F,{openCart:O,handleOpenCart:Z})})]})}},1689:(e,t,s)=>{s.d(t,{P:()=>l,S:()=>r});var a=s(2555),i=s(4686),n=s(5831);const l=i.A.create({baseURL:n.A.baseURL}),r=i.A.create({baseURL:n.A.baseURL});l.interceptors.request.use((e=>(e.headers=(0,a.A)({},e.headers),e)),(e=>Promise.reject(e))),l.interceptors.response.use((e=>e.data),(e=>{var t;Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}));const o=async()=>{const e=sessionStorage.getItem("token")||"";try{return e||(sessionStorage.clear(),window.location.href="".concat(window.location.origin,"/login"),null)}catch(t){return sessionStorage.clear(),window.location.href="".concat(window.location.origin,"/login"),null}};r.interceptors.request.use((async e=>{const t=await o();return e.headers=(0,a.A)({Authorization:"Bearer ".concat(t)},e.headers),e}),(e=>Promise.reject(e))),r.interceptors.response.use((e=>e.data),(e=>{var t;Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}}]);
//# sourceMappingURL=9691.f2fb5f18.chunk.js.map