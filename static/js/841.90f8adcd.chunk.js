"use strict";(self.webpackChunkpure_skyn=self.webpackChunkpure_skyn||[]).push([[841],{841:(e,s,a)=>{a.r(s),a.d(s,{default:()=>b});var t=a(3117),n=a(947),r=a(1481),o=a(5397),l=a(7340),d=a(2483),i=a(3376),c=a(4315),u=a(6395),h=a(3912),x=a(267),m=a(3378),p=a(6723);const w=(0,d.lazy)((()=>Promise.all([a.e(2017),a.e(5570),a.e(6624),a.e(3715)]).then(a.bind(a,3105)))),v=(0,d.lazy)((()=>Promise.resolve().then(a.bind(a,7855))));const f=function(){var e,s,a;const f=(0,m.k)(),b=(0,i.Zp)(),g=new URLSearchParams((0,i.zy)().search).get("token"),[j,C]=(0,d.useState)(!1),[k,P]=(0,d.useState)(""),[y,N]=(0,d.useState)(!1),[S,M]=(0,d.useState)(!1),[E,R]=(0,d.useState)(!1),A=(0,o.A)("(max-width: 767px)"),B=(0,o.A)("(max-width: 1023px)"),{mutate:O,isSending:q}=(0,c.useMutation)(x.VJ,{onSuccess(e){"ERROR"===(null===e||void 0===e?void 0:e.status)?f("".concat(null===e||void 0===e?void 0:e.message,". Please try again!"),"error"):(C(!0),f("".concat(null===e||void 0===e?void 0:e.message),"success"))},onError(e){f(e,"error")}}),{mutate:_,isLoading:L}=(0,c.useMutation)(x.ec,{onSuccess(e){"ERROR"===(null===e||void 0===e?void 0:e.status)?f("".concat(null===e||void 0===e?void 0:e.message,". Please try again!"),"error"):(f(null===e||void 0===e?void 0:e.message,"success"),b("/logout"))},onError(e){f(e,"error")}}),T=(0,t.Wx)({enableReinitialize:!0,validateOnMount:!0,validateOnChange:!0,initialValues:{oldPassword:"",newPassword:"",confirmNewPassword:""},validationSchema:n.Ik().shape({oldPassword:n.Yj().required("Required"),newPassword:n.Yj().required("Required"),confirmNewPassword:n.Yj().oneOf([n.KR("newPassword")],"Passwords Must Match").required("Required")}),onSubmit:e=>{_({token:g,oldPassword:e.oldPassword,newPassword:e.newPassword})}});return(0,p.jsxs)(l.P.div,{variants:(0,h.A)("left",.1),initial:"hidden",whileInView:"show",viewport:{once:!0},className:"mt-3 ".concat(B?"py-3":""),children:[(0,p.jsx)(d.Suspense,{fallback:(0,p.jsx)("div",{}),children:(0,p.jsx)(v,{open:q||L})}),(0,p.jsxs)("div",{className:"mt-3 p-5",children:[(0,p.jsx)(u.A,{heading:"Password Management",subHeading:"Change Your Password Here!"}),(0,p.jsxs)("div",{className:"flex flex-col shadow rounded-3xl w-full md:!w-1/2 ".concat(A?"p-4":"p-5"),children:[!j&&g&&(0,p.jsxs)("form",{children:[(0,p.jsx)(d.Suspense,{fallback:(0,p.jsx)("div",{}),children:(0,p.jsx)(w,{textClassOverride:"!text-kashmirBlue",type:y?"text":"password",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Current Password",name:"oldPassword",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"w-full !mb-4",value:null===(e=T.values)||void 0===e?void 0:e.oldPassword,onChange:T.handleChange,handleBlur:T.handleBlur,error:T.errors.oldPassword,touched:T.touched.oldPassword,iconEnd:y?(0,p.jsx)(r.Ny1,{}):(0,p.jsx)(r.mx3,{}),iconOnClick:()=>N(!y)})}),(0,p.jsx)(d.Suspense,{fallback:(0,p.jsx)("div",{}),children:(0,p.jsx)(w,{textClassOverride:"!text-kashmirBlue",type:S?"text":"password",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"New Password",name:"newPassword",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"w-full !mb-4",value:null===(s=T.values)||void 0===s?void 0:s.newPassword,onChange:T.handleChange,handleBlur:T.handleBlur,error:T.errors.newPassword,touched:T.touched.newPassword,iconEnd:S?(0,p.jsx)(r.Ny1,{}):(0,p.jsx)(r.mx3,{}),iconOnClick:()=>M(!S)})}),(0,p.jsx)(d.Suspense,{fallback:(0,p.jsx)("div",{}),children:(0,p.jsx)(w,{textClassOverride:"!text-kashmirBlue",type:E?"text":"password",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Confirm New Password",name:"confirmNewPassword",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"w-full !mb-4",value:null===(a=T.values)||void 0===a?void 0:a.confirmNewPassword,onChange:T.handleChange,handleBlur:T.handleBlur,error:T.errors.confirmNewPassword,touched:T.touched.confirmNewPassword,iconEnd:E?(0,p.jsx)(r.Ny1,{}):(0,p.jsx)(r.mx3,{}),iconOnClick:()=>R(!E)})}),(0,p.jsx)("button",{type:"submit",className:"w-full xl:!w-1/2 bg-skyn text-white py-2 px-4 rounded-md hover:bg-skyn-dark focus:outline-none transition-all shadow-[3px_3px_0px_#313440] hover:shadow-none hover:translate-x-[3px] hover:translate-y-[3px]",onClick:()=>T.handleSubmit(),children:"Change Password"})]}),!j&&!g&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.Suspense,{fallback:(0,p.jsx)("div",{}),children:(0,p.jsx)(w,{textClassOverride:"!text-kashmirBlue",placeholderClasses:"placeholder:!opacity-30 !text-licorice",className:"h-12 rounded-md !bg-transparent",placeholder:"Enter",requiredStar:!0,labelToShow:"Enter Your Email",name:"email",textFieldColorClass:"shadow-insetLight",inputClassName:"!bg-transparent",fieldWidth:"w-full !mb-4",value:k,onChange:e=>P(e.target.value)})}),(0,p.jsx)("button",{type:"submit",className:"w-full xl:!w-1/2 mt-4 bg-skyn text-white py-2 px-4 rounded-md hover:bg-skyn-dark focus:outline-none transition-all shadow-[3px_3px_0px_#313440] hover:shadow-none hover:translate-x-[3px] hover:translate-y-[3px]",onClick:()=>{O({email:k})},children:"Request Password Change"})]}),j&&!g&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("p",{className:"font-bold text-center text-emerald-900 text-xl",children:"Reset link is sent to your email. Please check."})})]})]})]})};const b=function(){return(0,p.jsx)("div",{children:(0,p.jsx)(f,{})})}},6395:(e,s,a)=>{a.d(s,{A:()=>i});var t=a(5397),n=a(2483),r=a(1901),o=a(3376),l=a(6723);const d=e=>{let{navigateTo:s}=e;const a=(e=>{const s=(0,o.Zp)();return(0,n.useCallback)((()=>{e?s(e,{replace:!0}):s(-1)}),[e,s])})(s);return(0,l.jsx)("button",{type:"button",onClick:a,className:"h-8 w-8 p-1 mt-1 mr-2 flex justify-center items-center rounded-md shadow-[3px_3px_0px_black] border bg-white",children:(0,l.jsx)(r.xKz,{className:"text-black text-xl"})})};const i=function(e){let{heading:s,subHeading:a,showBackButton:n,navigateTo:r,headerClass:o}=e;const i=(0,t.A)("(max-width: 767px)");return(0,l.jsxs)("div",{className:"flex py-4 ".concat(i?"mt-5":"mt-4"),children:[n&&(0,l.jsx)(d,{navigateTo:r}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex flex-col font-poppins",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-skyn ".concat(o),children:s}),(0,l.jsx)("hr",{className:"h-1 !bg-skyn mb-2"})]}),a&&(0,l.jsx)("div",{className:"font-poppins text-xl font-extrabold",children:a})]})]})}},5397:(e,s,a)=>{var t;a.d(s,{A:()=>u});var n=a(2483),r=a(344),o=a(3898),l=a(1085);function d(e,s,a,t,o){const[l,d]=n.useState((()=>o&&a?a(e).matches:t?t(e).matches:s));return(0,r.A)((()=>{let s=!0;if(!a)return;const t=a(e),n=()=>{s&&d(t.matches)};return n(),t.addListener(n),()=>{s=!1,t.removeListener(n)}}),[e,a]),l}const i=(t||(t=a.t(n,2))).useSyncExternalStore;function c(e,s,a,t,r){const o=n.useCallback((()=>s),[s]),l=n.useMemo((()=>{if(r&&a)return()=>a(e).matches;if(null!==t){const{matches:s}=t(e);return()=>s}return o}),[o,e,t,r,a]),[d,c]=n.useMemo((()=>{if(null===a)return[o,()=>()=>{}];const s=a(e);return[()=>s.matches,e=>(s.addListener(e),()=>{s.removeListener(e)})]}),[o,a,e]);return i(c,d,l)}function u(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(0,l.A)(),t="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:n=!1,matchMedia:r=(t?window.matchMedia:null),ssrMatchMedia:u=null,noSsr:h=!1}=(0,o.A)({name:"MuiUseMediaQuery",props:s,theme:a});let x="function"===typeof e?e(a):e;x=x.replace(/^@media( ?)/m,"");return(void 0!==i?c:d)(x,n,r,u,h)}},3898:(e,s,a)=>{a.d(s,{A:()=>n});var t=a(1366);function n(e){const{theme:s,name:a,props:n}=e;return s&&s.components&&s.components[a]&&s.components[a].defaultProps?(0,t.A)(s.components[a].defaultProps,n):n}}}]);
//# sourceMappingURL=841.90f8adcd.chunk.js.map